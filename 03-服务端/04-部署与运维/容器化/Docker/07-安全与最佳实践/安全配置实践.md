# å®‰å…¨é…ç½®å®è·µ

> Docker å®‰å…¨é…ç½®æ–¹æ³•å’Œå®è·µ

---

## ğŸ“‹ ç›®å½•

- [é root ç”¨æˆ·è¿è¡Œ](#é-root-ç”¨æˆ·è¿è¡Œ)
- [åªè¯»æ–‡ä»¶ç³»ç»Ÿ](#åªè¯»æ–‡ä»¶ç³»ç»Ÿ)
- [èµ„æºé™åˆ¶](#èµ„æºé™åˆ¶)
- [ç½‘ç»œéš”ç¦»](#ç½‘ç»œéš”ç¦»)
- [é•œåƒå®‰å…¨æ‰«æ](#é•œåƒå®‰å…¨æ‰«æ)
- [å¯†é’¥ç®¡ç†](#å¯†é’¥ç®¡ç†)

---

## é root ç”¨æˆ·è¿è¡Œ

### åœ¨ Dockerfile ä¸­åˆ›å»ºç”¨æˆ·

```dockerfile
# åˆ›å»ºé root ç”¨æˆ·
RUN addgroup -g 1000 appuser && \
    adduser -D -u 1000 -G appuser appuser

# åˆ‡æ¢åˆ°é root ç”¨æˆ·
USER appuser
```

### è¿è¡Œæ—¶æŒ‡å®šç”¨æˆ·

```bash
# ä½¿ç”¨é root ç”¨æˆ·è¿è¡Œ
docker run -u 1000:1000 nginx:latest
```

---

## åªè¯»æ–‡ä»¶ç³»ç»Ÿ

### ä½¿ç”¨åªè¯»æ ¹æ–‡ä»¶ç³»ç»Ÿ

```bash
# åªè¯»æ ¹æ–‡ä»¶ç³»ç»Ÿ
docker run --read-only nginx:latest

# åªè¯»æ ¹æ–‡ä»¶ç³»ç»Ÿ + tmpfs
docker run --read-only --tmpfs /tmp nginx:latest
```

---

## èµ„æºé™åˆ¶

### è®¾ç½®èµ„æºé™åˆ¶

```bash
# CPU å’Œå†…å­˜é™åˆ¶
docker run -d \
  --cpus="1.0" \
  --memory="512m" \
  nginx:latest
```

---

## ç½‘ç»œéš”ç¦»

### ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œ

```bash
# åˆ›å»ºéš”ç¦»ç½‘ç»œ
docker network create --internal isolated-network

# ä½¿ç”¨éš”ç¦»ç½‘ç»œ
docker run --network isolated-network nginx:latest
```

---

## é•œåƒå®‰å…¨æ‰«æ

### æ‰«æé•œåƒ

```bash
# Docker Scout
docker scout cves nginx:latest

# Trivy
trivy image nginx:latest
```

---

## å¯†é’¥ç®¡ç†

### ä½¿ç”¨ Docker Secrets

```bash
# åˆ›å»º secret
echo "my-secret" | docker secret create my-secret -

# åœ¨æœåŠ¡ä¸­ä½¿ç”¨
docker service create --secret my-secret nginx:latest
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Docker å®˜æ–¹æ–‡æ¡£ - å®‰å…¨é…ç½®](https://docs.docker.com/engine/security/)
- [Docker å®‰å…¨æœ€ä½³å®è·µ](https://docs.docker.com/engine/security/best-practices/)

---

[[!MOC-Docker|è¿”å› Docker çŸ¥è¯†ä½“ç³»]]

#Docker #å®‰å…¨ #å®‰å…¨é…ç½®
