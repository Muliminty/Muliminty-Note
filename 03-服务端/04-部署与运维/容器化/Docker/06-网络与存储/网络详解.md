# Docker ç½‘ç»œè¯¦è§£

> Docker ç½‘ç»œæ¶æ„ã€ç½‘ç»œé©±åŠ¨ç±»å‹å’Œç½‘ç»œé…ç½®

---

## ğŸ“‹ ç›®å½•

- [ç½‘ç»œé©±åŠ¨ç±»å‹](#ç½‘ç»œé©±åŠ¨ç±»å‹)
- [Bridge ç½‘ç»œ](#bridge-ç½‘ç»œ)
- [Host ç½‘ç»œ](#host-ç½‘ç»œ)
- [Overlay ç½‘ç»œ](#overlay-ç½‘ç»œ)
- [Macvlan ç½‘ç»œ](#macvlan-ç½‘ç»œ)
- [è‡ªå®šä¹‰ç½‘ç»œ](#è‡ªå®šä¹‰ç½‘ç»œ)
- [ç½‘ç»œæ’ä»¶](#ç½‘ç»œæ’ä»¶)

---

## ç½‘ç»œé©±åŠ¨ç±»å‹

### å†…ç½®é©±åŠ¨

- **bridge**ï¼šé»˜è®¤ç½‘ç»œé©±åŠ¨ï¼Œç”¨äºå•ä¸»æœº
- **host**ï¼šç›´æ¥ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ
- **none**ï¼šç¦ç”¨ç½‘ç»œ
- **overlay**ï¼šç”¨äºå¤šä¸»æœºç½‘ç»œï¼ˆSwarmï¼‰
- **macvlan**ï¼šä¸ºå®¹å™¨åˆ†é… MAC åœ°å€

---

## Bridge ç½‘ç»œ

### é»˜è®¤ Bridge ç½‘ç»œ

```bash
# æŸ¥çœ‹é»˜è®¤ bridge ç½‘ç»œ
docker network inspect bridge
```

### åˆ›å»ºè‡ªå®šä¹‰ Bridge ç½‘ç»œ

```bash
# åˆ›å»º bridge ç½‘ç»œ
docker network create my-bridge

# åˆ›å»ºç½‘ç»œå¹¶æŒ‡å®šå­ç½‘
docker network create --subnet=172.20.0.0/16 my-bridge

# åˆ›å»ºç½‘ç»œå¹¶æŒ‡å®šç½‘å…³
docker network create \
  --subnet=172.20.0.0/16 \
  --gateway=172.20.0.1 \
  my-bridge
```

### ä½¿ç”¨ Bridge ç½‘ç»œ

```bash
# è¿è¡Œå®¹å™¨æ—¶æŒ‡å®šç½‘ç»œ
docker run -d --network my-bridge nginx:latest

# å°†è¿è¡Œä¸­çš„å®¹å™¨è¿æ¥åˆ°ç½‘ç»œ
docker network connect my-bridge my-container
```

---

## Host ç½‘ç»œ

### ä½¿ç”¨ Host ç½‘ç»œ

```bash
# ä½¿ç”¨ host ç½‘ç»œ
docker run -d --network host nginx:latest
```

### ç‰¹ç‚¹

- å®¹å™¨ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ
- æ€§èƒ½æœ€å¥½
- ç«¯å£æ˜ å°„æ— æ•ˆ
- å®‰å…¨æ€§è¾ƒä½

---

## Overlay ç½‘ç»œ

### åˆ›å»º Overlay ç½‘ç»œ

```bash
# åˆå§‹åŒ– Swarm
docker swarm init

# åˆ›å»º overlay ç½‘ç»œ
docker network create --driver overlay my-overlay
```

### ä½¿ç”¨ Overlay ç½‘ç»œ

```bash
# åœ¨ Swarm æœåŠ¡ä¸­ä½¿ç”¨
docker service create --network my-overlay nginx:latest
```

---

## Macvlan ç½‘ç»œ

### åˆ›å»º Macvlan ç½‘ç»œ

```bash
# åˆ›å»º macvlan ç½‘ç»œ
docker network create -d macvlan \
  --subnet=192.168.1.0/24 \
  --gateway=192.168.1.1 \
  -o parent=eth0 \
  my-macvlan
```

### ä½¿ç”¨ Macvlan ç½‘ç»œ

```bash
# ä½¿ç”¨ macvlan ç½‘ç»œ
docker run -d --network my-macvlan --ip=192.168.1.100 nginx:latest
```

---

## è‡ªå®šä¹‰ç½‘ç»œ

### ç½‘ç»œé…ç½®é€‰é¡¹

```bash
# åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ
docker network create \
  --driver bridge \
  --subnet=172.20.0.0/16 \
  --gateway=172.20.0.1 \
  --ip-range=172.20.240.0/20 \
  my-network
```

### ç½‘ç»œç®¡ç†

```bash
# åˆ—å‡ºæ‰€æœ‰ç½‘ç»œ
docker network ls

# æŸ¥çœ‹ç½‘ç»œè¯¦ç»†ä¿¡æ¯
docker network inspect my-network

# åˆ é™¤ç½‘ç»œ
docker network rm my-network

# åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„ç½‘ç»œ
docker network prune
```

---

## ç½‘ç»œæ’ä»¶

### ä½¿ç”¨ç½‘ç»œæ’ä»¶

```bash
# å®‰è£…ç½‘ç»œæ’ä»¶
docker plugin install plugin-name

# ä½¿ç”¨æ’ä»¶åˆ›å»ºç½‘ç»œ
docker network create --driver plugin-name my-network
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Docker å®˜æ–¹æ–‡æ¡£ - ç½‘ç»œ](https://docs.docker.com/network/)
- [Docker å®˜æ–¹æ–‡æ¡£ - ç½‘ç»œé©±åŠ¨](https://docs.docker.com/network/drivers/)

---

[[!MOC-Docker|è¿”å› Docker çŸ¥è¯†ä½“ç³»]]

#Docker #ç½‘ç»œ #ç½‘ç»œé©±åŠ¨
