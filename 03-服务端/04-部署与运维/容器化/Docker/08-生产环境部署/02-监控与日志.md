# ç›‘æ§ä¸æ—¥å¿—

> Docker å®¹å™¨ç›‘æ§ä¸æ—¥å¿—ç®¡ç†

---

## ğŸ“‹ ç›®å½•

- [å®¹å™¨ç›‘æ§å·¥å…·](#å®¹å™¨ç›‘æ§å·¥å…·)
- [æ—¥å¿—æ”¶é›†](#æ—¥å¿—æ”¶é›†)
- [æ€§èƒ½ç›‘æ§](#æ€§èƒ½ç›‘æ§)
- [å‘Šè­¦é…ç½®](#å‘Šè­¦é…ç½®)
- [æ—¥å¿—èšåˆ](#æ—¥å¿—èšåˆ)

---

## å®¹å™¨ç›‘æ§å·¥å…·

### docker stats

```bash
# å®æ—¶ç›‘æ§å®¹å™¨èµ„æº
docker stats

# ç›‘æ§æŒ‡å®šå®¹å™¨
docker stats my-container
```

### cAdvisor

```bash
# è¿è¡Œ cAdvisor
docker run -d \
  --name=cadvisor \
  -p 8080:8080 \
  -v /:/rootfs:ro \
  -v /var/run:/var/run:ro \
  -v /sys:/sys:ro \
  -v /var/lib/docker/:/var/lib/docker:ro \
  google/cadvisor:latest
```

---

## æ—¥å¿—æ”¶é›†

### æ—¥å¿—é©±åŠ¨

```bash
# ä½¿ç”¨ JSON æ–‡ä»¶é©±åŠ¨
docker run --log-driver json-file --log-opt max-size=10m nginx:latest

# ä½¿ç”¨ syslog é©±åŠ¨
docker run --log-driver syslog nginx:latest
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs my-container

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker logs -f my-container
```

---

## æ€§èƒ½ç›‘æ§

### ç›‘æ§æŒ‡æ ‡

- CPU ä½¿ç”¨ç‡
- å†…å­˜ä½¿ç”¨ç‡
- ç½‘ç»œ I/O
- ç£ç›˜ I/O

---

## å‘Šè­¦é…ç½®

### Prometheus + Grafana

```yaml
# docker-compose.yml
services:
  prometheus:
    image: prom/prometheus
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml

  grafana:
    image: grafana/grafana
    ports:
      - "3000:3000"
```

---

## æ—¥å¿—èšåˆ

### ELK Stack

```yaml
# docker-compose.yml
services:
  elasticsearch:
    image: elasticsearch:7.14.0

  logstash:
    image: logstash:7.14.0

  kibana:
    image: kibana:7.14.0
    ports:
      - "5601:5601"
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Docker å®˜æ–¹æ–‡æ¡£ - æ—¥å¿—](https://docs.docker.com/config/containers/logging/)
- [Prometheus æ–‡æ¡£](https://prometheus.io/docs/)
- [Grafana æ–‡æ¡£](https://grafana.com/docs/)

---

[[!MOC-Docker|è¿”å› Docker çŸ¥è¯†ä½“ç³»]]

#Docker #ç›‘æ§ #æ—¥å¿—
