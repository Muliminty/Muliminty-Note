# è°ƒè¯•æŠ€å·§

> Docker å®¹å™¨è°ƒè¯•æ–¹æ³•å’ŒæŠ€å·§

---

## ğŸ“‹ ç›®å½•

- [æŸ¥çœ‹å®¹å™¨æ—¥å¿—](#æŸ¥çœ‹å®¹å™¨æ—¥å¿—)
- [è¿›å…¥å®¹å™¨è°ƒè¯•](#è¿›å…¥å®¹å™¨è°ƒè¯•)
- [ç½‘ç»œè°ƒè¯•](#ç½‘ç»œè°ƒè¯•)
- [å­˜å‚¨è°ƒè¯•](#å­˜å‚¨è°ƒè¯•)
- [æ€§èƒ½åˆ†æ](#æ€§èƒ½åˆ†æ)

---

## æŸ¥çœ‹å®¹å™¨æ—¥å¿—

### åŸºæœ¬å‘½ä»¤

```bash
# æŸ¥çœ‹æ—¥å¿—
docker logs my-container

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker logs -f my-container

# æŸ¥çœ‹æœ€å N è¡Œ
docker logs --tail 100 my-container

# æŸ¥çœ‹å¸¦æ—¶é—´æˆ³çš„æ—¥å¿—
docker logs -t my-container
```

### æ—¥å¿—è¿‡æ»¤

```bash
# æŸ¥çœ‹ç‰¹å®šæ—¶é—´èŒƒå›´çš„æ—¥å¿—
docker logs --since "2023-01-01T00:00:00" my-container
docker logs --until "2023-01-01T23:59:59" my-container
```

---

## è¿›å…¥å®¹å™¨è°ƒè¯•

### ä½¿ç”¨ docker exec

```bash
# è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨
docker exec -it my-container /bin/bash

# æ‰§è¡Œå‘½ä»¤
docker exec my-container ls /app

# ä»¥ root ç”¨æˆ·æ‰§è¡Œ
docker exec -u root my-container /bin/bash
```

### ä½¿ç”¨ docker run

```bash
# è¿è¡Œè°ƒè¯•å®¹å™¨
docker run -it --rm --network container:my-container ubuntu:20.04 /bin/bash
```

---

## ç½‘ç»œè°ƒè¯•

### æ£€æŸ¥ç½‘ç»œé…ç½®

```bash
# æŸ¥çœ‹å®¹å™¨ç½‘ç»œ
docker network inspect bridge

# æŸ¥çœ‹å®¹å™¨ IP
docker inspect -f '{{.NetworkSettings.IPAddress}}' my-container

# æµ‹è¯•ç½‘ç»œè¿æ¥
docker exec my-container ping 8.8.8.8
```

### ç½‘ç»œå·¥å…·

```bash
# å®‰è£…ç½‘ç»œå·¥å…·
docker run -it --rm --network container:my-container nicolaka/netshoot

# ä½¿ç”¨ curl æµ‹è¯•
docker exec my-container curl http://example.com
```

---

## å­˜å‚¨è°ƒè¯•

### æ£€æŸ¥æŒ‚è½½

```bash
# æŸ¥çœ‹å®¹å™¨æŒ‚è½½
docker inspect -f '{{.Mounts}}' my-container

# æ£€æŸ¥æ•°æ®å·
docker volume inspect my-volume
```

### æ–‡ä»¶ç³»ç»Ÿè°ƒè¯•

```bash
# æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ
docker exec my-container df -h

# æ£€æŸ¥æ–‡ä»¶æƒé™
docker exec my-container ls -la /app
```

---

## æ€§èƒ½åˆ†æ

### èµ„æºç›‘æ§

```bash
# å®æ—¶ç›‘æ§èµ„æº
docker stats my-container

# æŸ¥çœ‹å®¹å™¨èµ„æºé™åˆ¶
docker inspect -f '{{.HostConfig.Memory}}' my-container
docker inspect -f '{{.HostConfig.CpuShares}}' my-container
```

### æ€§èƒ½åˆ†æå·¥å…·

```bash
# ä½¿ç”¨ top æŸ¥çœ‹è¿›ç¨‹
docker exec my-container top

# ä½¿ç”¨ htopï¼ˆå¦‚æœå¯ç”¨ï¼‰
docker exec my-container htop
```

---

## å®ç”¨æŠ€å·§

### ä¸´æ—¶è°ƒè¯•å®¹å™¨

```bash
# åˆ›å»ºä¸´æ—¶è°ƒè¯•å®¹å™¨
docker run -it --rm \
  --network container:my-container \
  --volumes-from my-container \
  ubuntu:20.04 \
  /bin/bash
```

### å¤åˆ¶æ–‡ä»¶

```bash
# ä»å®¹å™¨å¤åˆ¶æ–‡ä»¶
docker cp my-container:/app/logs/app.log ./app.log

# å¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨
docker cp ./config.json my-container:/app/config.json
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Docker å®˜æ–¹æ–‡æ¡£ - è°ƒè¯•](https://docs.docker.com/config/containers/logging/)
- [Docker è°ƒè¯•æŠ€å·§](https://docs.docker.com/config/containers/logging/)

---

[[!MOC-Docker|è¿”å› Docker çŸ¥è¯†ä½“ç³»]]

#Docker #è°ƒè¯• #æ•…éšœæ’æŸ¥
