# å¸¸è§é—®é¢˜æ’æŸ¥

> Docker å¸¸è§é—®é¢˜çš„æ’æŸ¥å’Œè§£å†³æ–¹æ³•

---

## ğŸ“‹ ç›®å½•

- [å®¹å™¨æ— æ³•å¯åŠ¨](#å®¹å™¨æ— æ³•å¯åŠ¨)
- [é•œåƒæ‹‰å–å¤±è´¥](#é•œåƒæ‹‰å–å¤±è´¥)
- [ç½‘ç»œè¿æ¥é—®é¢˜](#ç½‘ç»œè¿æ¥é—®é¢˜)
- [å­˜å‚¨ç©ºé—´é—®é¢˜](#å­˜å‚¨ç©ºé—´é—®é¢˜)
- [æƒé™é—®é¢˜](#æƒé™é—®é¢˜)

---

## å®¹å™¨æ— æ³•å¯åŠ¨

### é—®é¢˜è¯Šæ–­

```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs my-container

# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps -a

# æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
docker inspect my-container
```

### å¸¸è§åŸå› 

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   lsof -i :8080
   # æˆ–
   netstat -tulpn | grep 8080
   ```

2. **é•œåƒä¸å­˜åœ¨**
   ```bash
   # æ£€æŸ¥é•œåƒ
   docker images
   # æ‹‰å–é•œåƒ
   docker pull myapp:latest
   ```

3. **èµ„æºä¸è¶³**
   ```bash
   # æ£€æŸ¥ç³»ç»Ÿèµ„æº
   docker stats
   ```

---

## é•œåƒæ‹‰å–å¤±è´¥

### é—®é¢˜è¯Šæ–­

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
docker pull myapp:latest

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping registry-1.docker.io
```

### å¸¸è§åŸå› 

1. **ç½‘ç»œé—®é¢˜**
   ```bash
   # é…ç½®é•œåƒåŠ é€Ÿå™¨
   # ç¼–è¾‘ /etc/docker/daemon.json
   {
     "registry-mirrors": [
       "https://docker.mirrors.ustc.edu.cn"
     ]
   }
   ```

2. **è®¤è¯å¤±è´¥**
   ```bash
   # é‡æ–°ç™»å½•
   docker login
   ```

3. **é•œåƒä¸å­˜åœ¨**
   ```bash
   # æ£€æŸ¥é•œåƒåç§°å’Œæ ‡ç­¾
   docker search myapp
   ```

---

## ç½‘ç»œè¿æ¥é—®é¢˜

### é—®é¢˜è¯Šæ–­

```bash
# æ£€æŸ¥å®¹å™¨ç½‘ç»œ
docker network inspect bridge

# æµ‹è¯•å®¹å™¨é—´è¿æ¥
docker exec container1 ping container2
```

### å¸¸è§åŸå› 

1. **ç½‘ç»œé…ç½®é”™è¯¯**
   ```bash
   # æ£€æŸ¥ç½‘ç»œé…ç½®
   docker network ls
   docker network inspect my-network
   ```

2. **é˜²ç«å¢™é˜»æ­¢**
   ```bash
   # æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
   iptables -L
   ```

---

## å­˜å‚¨ç©ºé—´é—®é¢˜

### é—®é¢˜è¯Šæ–­

```bash
# æŸ¥çœ‹ Docker ç©ºé—´ä½¿ç”¨
docker system df

# æŸ¥çœ‹è¯¦ç»†ç©ºé—´ä½¿ç”¨
docker system df -v
```

### æ¸…ç†æ–¹æ³•

```bash
# æ¸…ç†æœªä½¿ç”¨çš„èµ„æº
docker system prune

# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„èµ„æºï¼ˆåŒ…æ‹¬é•œåƒï¼‰
docker system prune -a

# æ¸…ç†æ•°æ®å·
docker volume prune
```

---

## æƒé™é—®é¢˜

### é—®é¢˜è¯Šæ–­

```bash
# æ£€æŸ¥å®¹å™¨ç”¨æˆ·
docker exec my-container whoami

# æ£€æŸ¥æ–‡ä»¶æƒé™
docker exec my-container ls -la /app
```

### è§£å†³æ–¹æ³•

```bash
# ä½¿ç”¨é root ç”¨æˆ·è¿è¡Œ
docker run -u 1000:1000 myapp:latest

# åœ¨ Dockerfile ä¸­è®¾ç½®ç”¨æˆ·
USER appuser
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Docker å®˜æ–¹æ–‡æ¡£ - æ•…éšœæ’æŸ¥](https://docs.docker.com/config/daemon/troubleshoot/)
- [Docker å¸¸è§é—®é¢˜](https://docs.docker.com/engine/faq/)

---

[[!MOC-Docker|è¿”å› Docker çŸ¥è¯†ä½“ç³»]]

#Docker #æ•…éšœæ’æŸ¥ #é—®é¢˜æ’æŸ¥
