# Docker å®‰è£…ä¸ç¯å¢ƒé…ç½®

> Docker åœ¨ä¸åŒå¹³å°çš„å®‰è£…æ–¹æ³•å’Œç¯å¢ƒé…ç½®

---

## ğŸ“‹ ç›®å½•

- [Linux å®‰è£…](#linux-å®‰è£…)
- [macOS å®‰è£…](#macos-å®‰è£…)
- [Windows å®‰è£…](#windows-å®‰è£…)
- [Docker Desktop ä½¿ç”¨](#docker-desktop-ä½¿ç”¨)
- [å®‰è£…éªŒè¯](#å®‰è£…éªŒè¯)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## Linux å®‰è£…

### Ubuntu/Debian

```bash
# æ›´æ–°åŒ…ç´¢å¼•
sudo apt-get update

# å®‰è£…å¿…è¦çš„ä¾èµ–
sudo apt-get install \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

# æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# è®¾ç½®ä»“åº“
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# å®‰è£… Docker Engine
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# å¯åŠ¨ Docker
sudo systemctl start docker
sudo systemctl enable docker

# éªŒè¯å®‰è£…
sudo docker run hello-world
```

### CentOS/RHEL

```bash
# å®‰è£…å¿…è¦çš„ä¾èµ–
sudo yum install -y yum-utils

# æ·»åŠ  Docker ä»“åº“
sudo yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo

# å®‰è£… Docker Engine
sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# å¯åŠ¨ Docker
sudo systemctl start docker
sudo systemctl enable docker

# éªŒè¯å®‰è£…
sudo docker run hello-world
```

### é…ç½®é root ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰

```bash
# åˆ›å»º docker ç”¨æˆ·ç»„
sudo groupadd docker

# å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•æˆ–æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿æ›´æ”¹ç”Ÿæ•ˆ
newgrp docker

# éªŒè¯ï¼ˆä¸éœ€è¦ sudoï¼‰
docker run hello-world
```

---

## macOS å®‰è£…

### ä½¿ç”¨ Docker Desktopï¼ˆæ¨èï¼‰

1. ä¸‹è½½ Docker Desktop for Mac
   - è®¿é—® [Docker Desktop ä¸‹è½½é¡µé¢](https://www.docker.com/products/docker-desktop)
   - é€‰æ‹©é€‚åˆçš„ç‰ˆæœ¬ï¼ˆIntel æˆ– Apple Siliconï¼‰

2. å®‰è£…
   - åŒå‡»ä¸‹è½½çš„ `.dmg` æ–‡ä»¶
   - å°† Docker å›¾æ ‡æ‹–åˆ° Applications æ–‡ä»¶å¤¹
   - å¯åŠ¨ Docker Desktop

3. éªŒè¯å®‰è£…
```bash
docker --version
docker run hello-world
```

### ä½¿ç”¨ Homebrew

```bash
# å®‰è£… Docker Desktop
brew install --cask docker

# å¯åŠ¨ Docker Desktop
open /Applications/Docker.app
```

---

## Windows å®‰è£…

### ä½¿ç”¨ Docker Desktopï¼ˆæ¨èï¼‰

1. ç³»ç»Ÿè¦æ±‚
   - Windows 10 64-bit: Pro, Enterprise, or Education (Build 19041 æˆ–æ›´é«˜ç‰ˆæœ¬)
   - Windows 11 64-bit: Home or Pro version 21H2 æˆ–æ›´é«˜ç‰ˆæœ¬
   - å¯ç”¨ WSL 2 åŠŸèƒ½

2. å®‰è£…æ­¥éª¤
   - ä¸‹è½½ Docker Desktop for Windows
   - è¿è¡Œå®‰è£…ç¨‹åº
   - æŒ‰ç…§å‘å¯¼å®Œæˆå®‰è£…
   - é‡å¯è®¡ç®—æœºï¼ˆå¦‚éœ€è¦ï¼‰

3. éªŒè¯å®‰è£…
```powershell
docker --version
docker run hello-world
```

---

## Docker Desktop ä½¿ç”¨

### åŸºæœ¬é…ç½®

1. **èµ„æºåˆ†é…**
   - Settings â†’ Resources
   - é…ç½® CPUã€å†…å­˜ã€ç£ç›˜é™åˆ¶

2. **é•œåƒåŠ é€Ÿå™¨**
   - Settings â†’ Docker Engine
   - æ·»åŠ å›½å†…é•œåƒæºé…ç½®

```json
{
  "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn",
    "https://hub-mirror.c.163.com"
  ]
}
```

3. **WSL 2 é›†æˆï¼ˆWindowsï¼‰**
   - Settings â†’ General
   - å¯ç”¨ "Use the WSL 2 based engine"
   - è¯¦ç»†é…ç½®è¯·å‚è€ƒ [WSL ä¸ Docker é›†æˆ](../../../../01-è®¡ç®—æœºåŸºç¡€/03-æ“ä½œç³»ç»Ÿ/03-WSL/03-é«˜çº§ä½¿ç”¨/ä¸%20Docker%20é›†æˆ.md)

---

## å®‰è£…éªŒè¯

### æ£€æŸ¥ç‰ˆæœ¬

```bash
# Docker ç‰ˆæœ¬
docker --version

# Docker è¯¦ç»†ä¿¡æ¯
docker info

# Docker Compose ç‰ˆæœ¬
docker compose version
```

### è¿è¡Œæµ‹è¯•å®¹å™¨

```bash
# è¿è¡Œ hello-world å®¹å™¨
docker run hello-world

# è¿è¡Œäº¤äº’å¼å®¹å™¨
docker run -it ubuntu:latest /bin/bash
```

### æ£€æŸ¥ Docker æœåŠ¡çŠ¶æ€ï¼ˆLinuxï¼‰

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status docker

# æŸ¥çœ‹ Docker è¿›ç¨‹
ps aux | grep docker
```

---

## å¸¸è§é—®é¢˜

### 1. æƒé™é—®é¢˜ï¼ˆLinuxï¼‰

**é—®é¢˜**ï¼š`permission denied while trying to connect to the Docker daemon socket`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# å°†ç”¨æˆ·æ·»åŠ åˆ° docker ç»„
sudo usermod -aG docker $USER
newgrp docker
```

### 2. æ— æ³•è¿æ¥åˆ° Docker daemon

**é—®é¢˜**ï¼š`Cannot connect to the Docker daemon`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# å¯åŠ¨ Docker æœåŠ¡
sudo systemctl start docker

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status docker
```

### 3. é•œåƒæ‹‰å–æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼šé…ç½®é•œåƒåŠ é€Ÿå™¨ï¼ˆè§ä¸Šæ–¹ Docker Desktop é…ç½®ï¼‰

### 4. WSL 2 ç›¸å…³é—®é¢˜ï¼ˆWindowsï¼‰

**é—®é¢˜**ï¼šWSL 2 æœªå®‰è£…æˆ–æœªå¯ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
wsl --install
wsl --set-default-version 2
```

**è¯¦ç»†æ–‡æ¡£**ï¼šæœ‰å…³ WSL 2 ä¸ Docker é›†æˆçš„å®Œæ•´é…ç½®ï¼Œè¯·å‚è€ƒ [WSL ä¸ Docker é›†æˆ](../../../../01-è®¡ç®—æœºåŸºç¡€/03-æ“ä½œç³»ç»Ÿ/03-WSL/03-é«˜çº§ä½¿ç”¨/ä¸%20Docker%20é›†æˆ.md)

---

## ğŸ“š å‚è€ƒèµ„æº

- [Docker å®˜æ–¹å®‰è£…æ–‡æ¡£](https://docs.docker.com/get-docker/)
- [Docker Desktop æ–‡æ¡£](https://docs.docker.com/desktop/)
- [Docker é•œåƒåŠ é€Ÿå™¨é…ç½®](https://www.docker-practice.com/install/mirror.html)

---

[[!MOC-Docker|è¿”å› Docker çŸ¥è¯†ä½“ç³»]]

#Docker #å®‰è£… #ç¯å¢ƒé…ç½®

