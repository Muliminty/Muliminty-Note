# æ ¸å¿ƒæ¨¡å—ï¼ˆCore Modulesï¼‰

Node.js å†…ç½®çš„æ ¸å¿ƒæ¨¡å—ã€‚

---

## ğŸ“š å¸¸ç”¨æ ¸å¿ƒæ¨¡å—

### 1. fs - æ–‡ä»¶ç³»ç»Ÿ

```javascript
const fs = require('fs');

// å¼‚æ­¥è¯»å–æ–‡ä»¶
fs.readFile('file.txt', 'utf8', (err, data) => {
  if (err) throw err;
  console.log(data);
});

// åŒæ­¥è¯»å–æ–‡ä»¶
const data = fs.readFileSync('file.txt', 'utf8');

// Promise æ–¹å¼ï¼ˆfs/promisesï¼‰
const fsPromises = require('fs/promises');
const data = await fsPromises.readFile('file.txt', 'utf8');
```

### 2. path - è·¯å¾„å¤„ç†

```javascript
const path = require('path');

// è·¯å¾„æ‹¼æ¥
path.join('/foo', 'bar', 'baz'); // '/foo/bar/baz'

// è·¯å¾„è§£æ
path.parse('/foo/bar.txt');
// { root: '/', dir: '/foo', base: 'bar.txt', ext: '.txt', name: 'bar' }

// è·å–æ‰©å±•å
path.extname('file.txt'); // '.txt'

// è·å–æ–‡ä»¶å
path.basename('/foo/bar.txt'); // 'bar.txt'
```

### 3. http - HTTP æœåŠ¡å™¨

```javascript
const http = require('http');

const server = http.createServer((req, res) => {
  res.writeHead(200, { 'Content-Type': 'text/plain' });
  res.end('Hello Node.js');
});

server.listen(3000, () => {
  console.log('Server running on http://localhost:3000');
});
```

### 4. url - URL å¤„ç†

```javascript
const url = require('url');

const myURL = new URL('https://example.com/path?name=value');
console.log(myURL.pathname); // '/path'
console.log(myURL.searchParams.get('name')); // 'value'
```

### 5. querystring - æŸ¥è¯¢å­—ç¬¦ä¸²

```javascript
const querystring = require('querystring');

// è§£æ
querystring.parse('name=value&age=30');
// { name: 'value', age: '30' }

// åºåˆ—åŒ–
querystring.stringify({ name: 'value', age: 30 });
// 'name=value&age=30'
```

### 6. events - äº‹ä»¶ç³»ç»Ÿ

```javascript
const EventEmitter = require('events');

class MyEmitter extends EventEmitter {}

const myEmitter = new MyEmitter();

myEmitter.on('event', (data) => {
  console.log('æ”¶åˆ°äº‹ä»¶:', data);
});

myEmitter.emit('event', 'Hello');
```

### 7. stream - æµå¤„ç†

```javascript
const fs = require('fs');
const { Readable } = require('stream');

// è¯»å–æµ
const readStream = fs.createReadStream('input.txt');
const writeStream = fs.createWriteStream('output.txt');

readStream.pipe(writeStream);
```

### 8. crypto - åŠ å¯†

```javascript
const crypto = require('crypto');

// å“ˆå¸Œ
const hash = crypto.createHash('sha256');
hash.update('data');
console.log(hash.digest('hex'));

// åŠ å¯†
const cipher = crypto.createCipher('aes192', 'password');
```

### 9. os - æ“ä½œç³»ç»Ÿ

```javascript
const os = require('os');

console.log(os.platform()); // 'darwin', 'win32', 'linux'
console.log(os.arch()); // 'x64'
console.log(os.cpus()); // CPU ä¿¡æ¯
console.log(os.totalmem()); // æ€»å†…å­˜
```

### 10. util - å·¥å…·å‡½æ•°

```javascript
const util = require('util');

// å›è°ƒè½¬ Promise
const readFile = util.promisify(fs.readFile);

// æ ¼å¼åŒ–å­—ç¬¦ä¸²
util.format('%s:%s', 'foo', 'bar'); // 'foo:bar'

// ç»§æ‰¿
util.inherits(Child, Parent);
```

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### 1. ä¼˜å…ˆä½¿ç”¨å¼‚æ­¥æ–¹æ³•

```javascript
// âœ… æ¨èï¼šå¼‚æ­¥
fs.readFile('file.txt', (err, data) => {
  // å¤„ç†
});

// âš ï¸ è°¨æ…ä½¿ç”¨ï¼šåŒæ­¥ï¼ˆä¼šé˜»å¡ï¼‰
const data = fs.readFileSync('file.txt');
```

### 2. ä½¿ç”¨ Promise ç‰ˆæœ¬

```javascript
// ä½¿ç”¨ fs/promises
const fs = require('fs/promises');
const data = await fs.readFile('file.txt', 'utf8');
```

### 3. é”™è¯¯å¤„ç†

```javascript
fs.readFile('file.txt', (err, data) => {
  if (err) {
    console.error('è¯»å–æ–‡ä»¶å¤±è´¥:', err);
    return;
  }
  // å¤„ç†æ•°æ®
});
```

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [æ¨¡å—ç³»ç»Ÿ](./æ¨¡å—ç³»ç»Ÿ.md) â€” CommonJS å’Œ ES Modules
- [Node.js å®˜æ–¹æ–‡æ¡£](https://nodejs.org/api/)

---

**å‚è€ƒ**ï¼š
- [Node.js API æ–‡æ¡£](https://nodejs.org/api/)

---

#nodejs #æ ¸å¿ƒæ¨¡å— #å†…ç½®æ¨¡å— #fs #http #path
