---
link: https://juejin.cn/post/7064351631072526350
title: è½»æ¾æ‹¿ä¸‹ TS æ³›å‹
description: å‰è¨€ æ³›å‹ï¼Œæ˜¯ TS æœ€éš¾ç†è§£çš„éƒ¨åˆ†ï¼Œæ‹¿ä¸‹äº†æ³›å‹ï¼ŒTS å°±æ²¡ä»€ä¹ˆéš¾çš„äº†ã€‚ è¿™æ˜¯æœ¬æ–‡çš„çŸ¥è¯†å›¾è°±ï¼š ä½ æŒæ¡äº†å—ï¼Ÿæ²¡æŒæ¡å°±ä¸€èµ·æ¥æŸ¥æ¼è¡¥ç¼ºå§ã€‚å­¦ä¹ æœ¬æ–‡ä¹‹å‰ï¼Œå…ˆè¦æœ‰ TS åŸºç¡€ï¼Œå¦‚æœè§‰å¾—é˜…è¯»åƒåŠ›ï¼Œå¯ä»¥å…ˆå­¦ä¹ è¿™ç¯‡
keywords: å‰ç«¯,TypeScript
author: é¦–é¡µ é¦–é¡µ æ²¸ç‚¹ è¯¾ç¨‹ ç›´æ’­ æ´»åŠ¨ ç«èµ› å•†åŸ App æ’ä»¶ æœç´¢å†å² æ¸…ç©º åˆ›ä½œè€…ä¸­å¿ƒ å†™æ–‡ç«  å‘æ²¸ç‚¹ å†™ç¬”è®° å†™ä»£ç  è‰ç¨¿ç®± åˆ›ä½œçµæ„Ÿ æŸ¥çœ‹æ›´å¤š ä¼šå‘˜ ç™»å½•
date: 2022-02-14T00:13:45.000Z
publisher: ç¨€åœŸæ˜é‡‘
stats: paragraph=152 sentences=46, words=553
---
ã€Œè¿™æ˜¯æˆ‘å‚ä¸2022é¦–æ¬¡æ›´æ–‡æŒ‘æˆ˜çš„ç¬¬18å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š[2022é¦–æ¬¡æ›´æ–‡æŒ‘æˆ˜](https://juejin.cn/post/7052884569032392740 "https://juejin.cn/post/7052884569032392740")ã€ã€‚

## å‰è¨€

æ³›å‹ï¼Œæ˜¯ TS æœ€éš¾ç†è§£çš„éƒ¨åˆ†ï¼Œæ‹¿ä¸‹äº†æ³›å‹ï¼ŒTS å°±æ²¡ä»€ä¹ˆéš¾çš„äº†ã€‚

è¿™æ˜¯æœ¬æ–‡çš„çŸ¥è¯†å›¾è°±ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ee9a28c9e804336a3773de1b9ce6261~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

ä½ æŒæ¡äº†å—ï¼Ÿæ²¡æŒæ¡å°±ä¸€èµ·æ¥æŸ¥æ¼è¡¥ç¼ºå§ã€‚

å­¦ä¹ æœ¬æ–‡ä¹‹å‰ï¼Œå…ˆè¦æœ‰ TS åŸºç¡€ï¼Œå¦‚æœè§‰å¾—é˜…è¯»åƒåŠ›ï¼Œå¯ä»¥å…ˆå­¦ä¹ è¿™ç¯‡æ–‡ç« ï¼Œ[é€šä¿—æ˜“æ‡‚çš„ TS åŸºç¡€çŸ¥è¯†æ€»ç»“](https://juejin.cn/post/7063970883227877390 "https://juejin.cn/post/7063970883227877390")

## ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹ï¼Ÿ

å¦‚æœä½ çœ‹è¿‡ TS æ–‡æ¡£ï¼Œä¸€å®šçœ‹è¿‡è¿™æ ·ä¸¤æ®µè¯ï¼š

> è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦åˆ›å»ºä¸€è‡´çš„å®šä¹‰è‰¯å¥½çš„ APIï¼ŒåŒæ—¶ä¹Ÿè¦è€ƒè™‘å¯é‡ç”¨æ€§ã€‚ ç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ï¼Œè¿™åœ¨åˆ›å»ºå¤§å‹ç³»ç»Ÿæ—¶ä¸ºä½ æä¾›äº†ååˆ†çµæ´»çš„åŠŸèƒ½ã€‚
**åœ¨åƒ C# å’Œ Java è¿™æ ·çš„è¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ã€‚ è¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä»¥è‡ªå·±çš„æ•°æ®ç±»å‹æ¥ä½¿ç”¨ç»„ä»¶ã€‚**

ç®€ç›´è¯´çš„å°±ä¸æ˜¯äººè¯ï¼Œä½ ç¡®å®šåˆå­¦è€…çœ‹å¾—æ‡‚ï¼Ÿ

æˆ‘è§‰å¾—åˆå­¦è€…åº”è¯¥è¦å…ˆæ˜ç™½ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹è¿™ä¸ªä¸œè¥¿ï¼Œå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿè€Œä¸æ˜¯çœ‹è¿™ç§æ‹—å£çš„å®šä¹‰ã€‚

æˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥çœ‹è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼Œä½“ä¼šä¸€ä¸‹æ³›å‹è§£å†³çš„é—®é¢˜å§ã€‚

å®šä¹‰ä¸€ä¸ª print å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯æŠŠä¼ å…¥çš„å‚æ•°æ‰“å°å‡ºæ¥ï¼Œå†è¿”å›è¿™ä¸ªå‚æ•°ï¼Œä¼ å…¥å‚æ•°çš„ç±»å‹æ˜¯ stringï¼Œå‡½æ•°è¿”å›ç±»å‹ä¸º stringã€‚

```typescript
function print(arg:string):string {
    console.log(arg)
    return arg
}
```

ç°åœ¨éœ€æ±‚å˜äº†ï¼Œæˆ‘è¿˜éœ€è¦æ‰“å° number ç±»å‹ï¼Œæ€ä¹ˆåŠï¼Ÿ

å¯ä»¥ä½¿ç”¨è”åˆç±»å‹æ¥æ”¹é€ ï¼š

```typescript
function print(arg:string | number):string | number {
    console.log(arg)
    return arg
}
```

ç°åœ¨éœ€æ±‚åˆå˜äº†ï¼Œæˆ‘è¿˜éœ€è¦æ‰“å° string æ•°ç»„ã€number æ•°ç»„ï¼Œç”šè‡³ä»»ä½•ç±»å‹ï¼Œæ€ä¹ˆåŠï¼Ÿ

æœ‰ä¸ªç¬¨æ–¹æ³•ï¼Œæ”¯æŒå¤šå°‘ç±»å‹å°±å†™å¤šå°‘è”åˆç±»å‹ã€‚

æˆ–è€…æŠŠå‚æ•°ç±»å‹æ”¹æˆ anyã€‚

```typescript
function print(arg:any):any {
    console.log(arg)
    return arg
}
```

ä¸”ä¸è¯´å†™ any ç±»å‹ä¸å¥½ï¼Œæ¯•ç«Ÿåœ¨ TS ä¸­å°½é‡ä¸è¦å†™ anyã€‚

è€Œä¸”è¿™ä¹Ÿä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œåªèƒ½è¯´ä¼ å…¥çš„å€¼æ˜¯ any ç±»å‹ï¼Œè¾“å‡ºçš„å€¼æ˜¯ any ç±»å‹ï¼Œä¼ å…¥å’Œè¿”å› **å¹¶ä¸æ˜¯ç»Ÿä¸€çš„**ã€‚

è¿™ä¹ˆå†™ç”šè‡³è¿˜ä¼šå‡ºç°bug

```typescript
const res:string = print(123)
```

å®šä¹‰ string ç±»å‹æ¥æ¥æ”¶ print å‡½æ•°çš„è¿”å›å€¼ï¼Œè¿”å›çš„æ˜¯ä¸ª number ç±»å‹ï¼ŒTS å¹¶ä¸ä¼šæŠ¥é”™æç¤ºæˆ‘ä»¬ã€‚

è¿™ä¸ªæ—¶å€™ï¼Œæ³›å‹å°±å‡ºç°äº†ï¼Œå®ƒå¯ä»¥è½»æ¾è§£å†³ **è¾“å…¥è¾“å‡ºè¦ä¸€è‡´**çš„é—®é¢˜ã€‚

> æ³¨æ„ï¼šæ³›å‹ä¸æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€ä¸ªé—®é¢˜è®¾è®¡å‡ºæ¥çš„ï¼Œæ³›å‹è¿˜è§£å†³äº†å¾ˆå¤šå…¶ä»–é—®é¢˜ï¼Œè¿™é‡Œæ˜¯é€šè¿‡è¿™ä¸ªä¾‹å­æ¥å¼•å‡ºæ³›å‹ã€‚

## æ³›å‹åŸºæœ¬ä½¿ç”¨

### å¤„ç†å‡½æ•°å‚æ•°

æˆ‘ä»¬ä½¿ç”¨æ³›å‹æ¥è§£å†³ä¸Šæ–‡çš„é—®é¢˜ã€‚

æ³›å‹çš„è¯­æ³•æ˜¯ `<>` é‡Œå†™ç±»å‹å‚æ•°ï¼Œä¸€èˆ¬å¯ä»¥ç”¨ `T` æ¥è¡¨ç¤ºã€‚

```typescript
function print<T>(arg:T):T {
    console.log(arg)
    return arg
}
```

è¿™æ ·ï¼Œæˆ‘ä»¬å°±åšåˆ°äº†è¾“å…¥å’Œè¾“å‡ºçš„ç±»å‹ç»Ÿä¸€ï¼Œä¸”å¯ä»¥è¾“å…¥è¾“å‡ºä»»ä½•ç±»å‹ã€‚

å¦‚æœç±»å‹ä¸ç»Ÿä¸€ï¼Œå°±ä¼šæŠ¥é”™ï¼š

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4411b32b4414c8585892199cd8cd9f8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

æ³›å‹ä¸­çš„ T å°±åƒä¸€ä¸ªå ä½ç¬¦ã€æˆ–è€…è¯´ä¸€ä¸ªå˜é‡ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æŠŠå®šä¹‰çš„ç±»å‹ **åƒå‚æ•°ä¸€æ ·ä¼ å…¥**ï¼Œå®ƒå¯ä»¥ **åŸå°ä¸åŠ¨åœ°è¾“å‡º**ã€‚

> æ³›å‹çš„å†™æ³•å¯¹å‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´æ˜¯æœ‰äº›å¤æ€ªï¼Œæ¯”å¦‚ `<>` `T` ï¼Œä½†è®°ä½å°±å¥½ï¼Œåªè¦ä¸€çœ‹åˆ° `<>`ï¼Œå°±çŸ¥é“è¿™æ˜¯æ³›å‹ã€‚

æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼æŒ‡å®šç±»å‹ã€‚

* å®šä¹‰è¦ä½¿ç”¨çš„ç±»å‹
* TS ç±»å‹æ¨æ–­ï¼Œè‡ªåŠ¨æ¨å¯¼å‡ºç±»å‹

```typescript
print<string>('hello')  // å®šä¹‰ T ä¸º string

print('hello')  // TS ç±»å‹æ¨æ–­ï¼Œè‡ªåŠ¨æ¨å¯¼ç±»å‹ä¸º string
```

æˆ‘ä»¬çŸ¥é“ï¼Œtype å’Œ [[../../../300--å‰ç«¯ç›¸å…³/01--å‰ç«¯åŸºç¡€/TypeScript/TsçŸ¥è¯†ç¢ç‰‡/TypeScript interface æ¥å£|interface]] éƒ½å¯ä»¥å®šä¹‰å‡½æ•°ç±»å‹ï¼Œä¹Ÿç”¨æ³›å‹æ¥å†™ä¸€ä¸‹ï¼Œtype è¿™ä¹ˆå†™ï¼š

```typescript
type Print = <T>(arg: T) => T
const printFn:Print = function print(arg) {
    console.log(arg)
    return arg
}
```

interface è¿™ä¹ˆå†™ï¼š

```typescript
interface Iprint<T> {
    (arg: T): T
}

function print<T>(arg:T) {
    console.log(arg)
    return arg
}

const myPrint: Iprint<number> = print
```

### é»˜è®¤å‚æ•°

å¦‚æœè¦ç»™æ³›å‹åŠ é»˜è®¤å‚æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š

```typescript
interface Iprint<T = number> {
    (arg: T): T
}

function print<T>(arg:T) {
    console.log(arg)
    return arg
}

const myPrint: Iprint = print
```

è¿™æ ·é»˜è®¤å°±æ˜¯ number ç±»å‹äº†ï¼Œæ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰ `T` å°±å¦‚åŒå‡½æ•°å‚æ•°ä¸€æ ·å‘¢ï¼Ÿ

### å¤„ç†å¤šä¸ªå‡½æ•°å‚æ•°

ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªåªæœ‰ä¸¤é¡¹çš„å…ƒç»„ï¼Œäº¤æ¢å…ƒç»„çš„ç¬¬ 0 é¡¹å’Œç¬¬ 1 é¡¹ï¼Œè¿”å›è¿™ä¸ªå…ƒç»„ã€‚

```typescript
function swap(tuple) {
    return [tuple[1], tuple[0]]
}
```

è¿™ä¹ˆå†™ï¼Œæˆ‘ä»¬å°±ä¸§å¤±äº†ç±»å‹ï¼Œç”¨æ³›å‹æ¥æ”¹é€ ä¸€ä¸‹ã€‚

æˆ‘ä»¬ç”¨ T ä»£è¡¨ç¬¬ 0 é¡¹çš„ç±»å‹ï¼Œç”¨ U ä»£è¡¨ç¬¬ 1 é¡¹çš„ç±»å‹ã€‚

```typescript
function swap<T, U>(tuple: [T, U]): [U, T]{
    return [tuple[1], tuple[0]]
}
```

è¿™æ ·å°±å¯ä»¥å®ç°äº†å…ƒç»„ç¬¬ 0 é¡¹å’Œç¬¬ 1 é¡¹ç±»å‹çš„æ§åˆ¶ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a9a08e24f1a481e81fa89d3e8220dcc~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

ä¼ å…¥çš„å‚æ•°é‡Œï¼Œç¬¬ 0 é¡¹ä¸º string ç±»å‹ï¼Œç¬¬ 1 é¡¹ä¸º number ç±»å‹ã€‚

åœ¨äº¤æ¢å‡½æ•°çš„è¿”å›å€¼é‡Œï¼Œç¬¬ 0 é¡¹ä¸º number ç±»å‹ï¼Œç¬¬ 1 é¡¹ä¸º string ç±»å‹ã€‚

ç¬¬ 0 é¡¹ä¸Šå…¨æ˜¯ number çš„æ–¹æ³•ã€‚

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1766430bbdc42bbb53687354af65795~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

ç¬¬ 1 é¡¹ä¸Šå…¨æ˜¯ string çš„æ–¹æ³•ã€‚

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/34d4c780556344999bdc460f04bf11d7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

### å‡½æ•°å‰¯ä½œç”¨æ“ä½œ

æ³›å‹ä¸ä»…å¯ä»¥å¾ˆæ–¹ä¾¿åœ°çº¦æŸå‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œè¿˜å¯ä»¥ç”¨åœ¨å‡½æ•°æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œçš„æ—¶å€™ã€‚

æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªé€šç”¨çš„å¼‚æ­¥è¯·æ±‚æ–¹æ³•ï¼Œæƒ³æ ¹æ®ä¸åŒçš„ url è¯·æ±‚è¿”å›ä¸åŒç±»å‹çš„æ•°æ®ã€‚

```typescript
function request(url:string) {
    return fetch(url).then(res => res.json())
}
```

è°ƒä¸€ä¸ªè·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£ï¼š

```typescript
request('user/info').then(res =>{
    console.log(res)
})
```

è¿™æ—¶å€™çš„è¿”å›ç»“æœ res å°±æ˜¯ä¸€ä¸ª any ç±»å‹ï¼Œéå¸¸è®¨åŒã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f611ca6aa43547a9adf9dea388b9579a~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

æˆ‘ä»¬å¸Œæœ›è°ƒç”¨ API éƒ½ **æ¸…æ™°çš„çŸ¥é“è¿”å›ç±»å‹æ˜¯ä»€ä¹ˆæ•°æ®ç»“æ„**ï¼Œå°±å¯ä»¥è¿™ä¹ˆåšï¼š

```typescript
interface UserInfo {
    name: string
    age: number
}

function request<T>(url:string): Promise<T> {
    return fetch(url).then(res => res.json())
}

request<UserInfo>('user/info').then(res =>{
    console.log(res)
})
```

è¿™æ ·å°±èƒ½å¾ˆèˆ’æœåœ°æ‹¿åˆ°æ¥å£è¿”å›çš„æ•°æ®ç±»å‹ï¼Œå¼€å‘æ•ˆç‡å¤§å¤§æé«˜ï¼š

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d85a3ad4567f4bc4bdca004853755192~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

## çº¦æŸæ³›å‹

å‡è®¾ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼Œæ‰“å°ä¼ å…¥å‚æ•°çš„é•¿åº¦ï¼Œæˆ‘ä»¬è¿™ä¹ˆå†™ï¼š

```typescript
function printLength<T>(arg: T): T {
    console.log(arg.length)
    return arg
}
```

å› ä¸ºä¸ç¡®å®š T æ˜¯å¦æœ‰ length å±æ€§ï¼Œä¼šæŠ¥é”™ï¼š

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/836e0afdd34b42f2aec13628168dfd23~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

é‚£ä¹ˆç°åœ¨æˆ‘æƒ³çº¦æŸè¿™ä¸ªæ³›å‹ï¼Œä¸€å®šè¦æœ‰ length å±æ€§ï¼Œæ€ä¹ˆåŠï¼Ÿ

å¯ä»¥å’Œ interface ç»“åˆï¼Œæ¥çº¦æŸç±»å‹ã€‚

```typescript
interface ILength {
    length: number
}

function printLength<T extends ILength>(arg: T): T {
    console.log(arg.length)
    return arg
}
```

è¿™å…¶ä¸­çš„å…³é”®å°±æ˜¯ `<t extends ilength></t>`ï¼Œè®©è¿™ä¸ªæ³›å‹ç»§æ‰¿æ¥å£ `ILength`ï¼Œè¿™æ ·å°±èƒ½çº¦æŸæ³›å‹ã€‚

æˆ‘ä»¬å®šä¹‰çš„å˜é‡ä¸€å®šè¦æœ‰ length å±æ€§ï¼Œæ¯”å¦‚ä¸‹é¢çš„ strã€arr å’Œ objï¼Œæ‰å¯ä»¥é€šè¿‡ TS ç¼–è¯‘ã€‚

```ts
const str = printLength('lin')
const arr = printLength([1,2,3])
const obj = printLength({ length: 10 })
```

è¿™ä¸ªä¾‹å­ä¹Ÿå†æ¬¡å°è¯äº† interface çš„ `duck typing`ã€‚

åªè¦ä½ æœ‰ length å±æ€§ï¼Œéƒ½ç¬¦åˆçº¦æŸï¼Œé‚£å°±ä¸ç®¡ä½ æ˜¯ strï¼Œarr è¿˜æ˜¯objï¼Œéƒ½æ²¡é—®é¢˜ã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä¸åŒ…å« length å±æ€§çš„å˜é‡ï¼Œæ¯”å¦‚æ•°å­—ï¼Œå°±ä¼šæŠ¥é”™ï¼š

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a8261afe4e7429a804c980d3c1eede7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

## æ³›å‹çš„ä¸€äº›åº”ç”¨

ä½¿ç”¨æ³›å‹ï¼Œå¯ä»¥åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹ã€‚

### æ³›å‹çº¦æŸç±»

å®šä¹‰ä¸€ä¸ªæ ˆï¼Œæœ‰å…¥æ ˆå’Œå‡ºæ ˆä¸¤ä¸ªæ–¹æ³•ï¼Œå¦‚æœæƒ³å…¥æ ˆå’Œå‡ºæ ˆçš„å…ƒç´ ç±»å‹ç»Ÿä¸€ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ï¼š

```typescript
class Stack<T> {
    private data: T[] = []
    push(item:T) {
        return this.data.push(item)
    }
    pop():T | undefined {
        return this.data.pop()
    }
}
```

åœ¨å®šä¹‰å®ä¾‹çš„æ—¶å€™å†™ç±»å‹ï¼Œæ¯”å¦‚ï¼Œå…¥æ ˆå’Œå‡ºæ ˆéƒ½è¦æ˜¯ number ç±»å‹ï¼Œå°±è¿™ä¹ˆå†™ï¼š

```typescript
const s1 = new Stack<number>()
```

è¿™æ ·ï¼Œå…¥æ ˆä¸€ä¸ªå­—ç¬¦ä¸²å°±ä¼šæŠ¥é”™ï¼š

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b6bf0b6eba6a40a486b1a74d490dd63a~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

è¿™æ˜¯éå¸¸çµæ´»çš„ï¼Œå¦‚æœéœ€æ±‚å˜äº†ï¼Œå…¥æ ˆå’Œå‡ºæ ˆéƒ½è¦æ˜¯ string ç±»å‹ï¼Œåœ¨å®šä¹‰å®ä¾‹çš„æ—¶å€™æ”¹ä¸€ä¸‹å°±å¥½äº†ï¼š

```typescript
const s1 = new Stack<string>()
```

è¿™æ ·ï¼Œå…¥æ ˆä¸€ä¸ªæ•°å­—å°±ä¼šæŠ¥é”™ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8f15fa43b864d47800da8a24c85bd5d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œ **æ³›å‹æ— æ³•çº¦æŸç±»çš„é™æ€æˆå‘˜**ã€‚

ç»™ pop æ–¹æ³•å®šä¹‰ `static` å…³é”®å­—ï¼Œå°±æŠ¥é”™äº†

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8843a0a665f34484b4b13fab67bcc0a7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

### æ³›å‹çº¦æŸæ¥å£

ä½¿ç”¨æ³›å‹ï¼Œä¹Ÿå¯ä»¥å¯¹ interface è¿›è¡Œæ”¹é€ ï¼Œè®© interface æ›´çµæ´»ã€‚

```typescript
interface IKeyValue<T, U> {
    key: T
    value: U
}

const k1:IKeyValue<number, string> = { key: 18, value: 'lin'}
const k2:IKeyValue<string, number> = { key: 'lin', value: 18}
```

### æ³›å‹å®šä¹‰æ•°ç»„

å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬ä¹‹å‰æ˜¯è¿™ä¹ˆå†™çš„ï¼š

```typescript
const arr: number[] = [1,2,3]
```

ç°åœ¨è¿™ä¹ˆå†™ä¹Ÿå¯ä»¥ï¼š

```typescript
const arr: Array<number> = [1,2,3]
```

æ•°ç»„é¡¹å†™é”™ç±»å‹ï¼ŒæŠ¥é”™

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b226f0366594f9bac2d807bfd35f46c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

## å®æˆ˜ï¼Œæ³›å‹çº¦æŸåç«¯æ¥å£å‚æ•°ç±»å‹

æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ³›å‹éå¸¸æœ‰åŠ©äºé¡¹ç›®å¼€å‘çš„ç”¨æ³•ï¼Œçº¦æŸåç«¯æ¥å£å‚æ•°ç±»å‹ã€‚

```typescript
import axios from 'axios'

interface API {
    '/book/detail': {
        id: number,
    },
    '/book/comment': {
        id: number
        comment: string
    }
    ...
}


function request<T extends keyof API>(url: T, obj: API[T]) {
    return axios.post(url, obj)
}

request('/book/comment', {
    id: 1,
    comment: 'éå¸¸æ£’ï¼'
})
```

è¿™æ ·åœ¨è°ƒç”¨æ¥å£çš„æ—¶å€™å°±ä¼šæœ‰æé†’ï¼Œæ¯”å¦‚ï¼š

è·¯å¾„å†™é”™äº†ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5975636be58c4226aaa057dff1b42350~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

å‚æ•°ç±»å‹ä¼ é”™äº†ï¼š

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75ae2936855341e58f4385d81f5c17c9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

å‚æ•°ä¼ å°‘äº†ï¼š

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b276689a7804162a924661e169aa67a~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

å¼€å‘æ•ˆç‡å¤§å¤§æé«˜å•Šï¼å¯ä»¥æ—©ç‚¹å’Œåç«¯è”è°ƒå®Œï¼Œæ‘¸é±¼å»äº†ã€‚

## å°ç»“

`æ³›å‹`ï¼ˆGenericsï¼‰ï¼Œä»å­—é¢ä¸Šç†è§£ï¼Œæ³›å‹å°±æ˜¯ä¸€èˆ¬çš„ï¼Œå¹¿æ³›çš„ã€‚

æ³›å‹æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹ã€‚

æ³›å‹ä¸­çš„ `T` å°±åƒä¸€ä¸ªå ä½ç¬¦ã€æˆ–è€…è¯´ä¸€ä¸ªå˜é‡ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æŠŠå®šä¹‰çš„ç±»å‹ **åƒå‚æ•°ä¸€æ ·ä¼ å…¥**ï¼Œå®ƒå¯ä»¥ **åŸå°ä¸åŠ¨åœ°è¾“å‡º**ã€‚

æ³›å‹ **åœ¨æˆå‘˜ä¹‹é—´æä¾›æœ‰æ„ä¹‰çš„çº¦æŸ**ï¼Œè¿™äº›æˆå‘˜å¯ä»¥æ˜¯ï¼šå‡½æ•°å‚æ•°ã€å‡½æ•°è¿”å›å€¼ã€ç±»çš„å®ä¾‹æˆå‘˜ã€ç±»çš„æ–¹æ³•ç­‰ã€‚

ç”¨ä¸€å¼ å›¾æ¥æ€»ç»“ä¸€ä¸‹æ³›å‹çš„å¥½å¤„ï¼š

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc01a49496f848e29c2fa8883ebcf5ec~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image?)

å¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ çš„èµğŸ‘å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ

**ä¼ é€é—¨ï¼š**

[ã€Œ1.9Wå­—æ€»ç»“ã€ä¸€ä»½é€šä¿—æ˜“æ‡‚çš„ TS æ•™ç¨‹ï¼Œå…¥é—¨ + å®æˆ˜ï¼](https://juejin.cn/post/7068081327857205261 "https://juejin.cn/post/7068081327857205261")

[TS ä¸­ interface å’Œ type ç©¶ç«Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://juejin.cn/post/7063521133340917773 "https://juejin.cn/post/7063521133340917773")
