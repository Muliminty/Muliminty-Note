[TOC]

# React面试宝典

## react原理

### 什么是fiber

那么如何理解react中的fiber呢，两个层面来解释：

+ 从运行机制上来解释，fiber是一种**流程让出机制**，它能让react中的同步渲染进行中断，并将渲染的控制权让回浏览器，从而达到不阻塞浏览器渲染的目的。
+ 从数据角度来解释，fiber能细化成一种数据结构，或者一个执行单元。

我们可以结合这两点来理解，react会在跑完一个执行单元后检测自己还剩多少时间（这个所剩时间下文会解释），如果还有时间就继续运行，反之就终止任务并记录任务，同时将控制权还给浏览器，直到下次浏览器自身工作做完，又有了空闲时间，便再将控制权交给react，以此反复。

> 参考链接 :
>>[稀土掘金  -- 【react】什么是fiber？fiber解决了什么问题？从源码角度深入了解fiber运行机制与diff执行 --  行星飞行](https://juejin.cn/post/7120505903924641806)。

### 虚拟dom

reactNode

```js
const VitrualDom = {
  type: 'span',
  props: {
    className: 'span'
  },
  children: [{
    type: 'span',
    props: {},
    children: 'hello echo'
  }]
}

```

虚拟DOM其实只是一个包含了标签类型type，属性props以及它包含子元素children的对象。

#### 虚拟DOM的优缺点是什么

**优势**

+ 简单：手动操作真实dom来实现页面的交互效果，既繁琐有容易出错，项目大了之后维护起来也不容易
+ 性能：虚拟dom能够将都将多次真实dom更新合并成一次，可以减少重绘和重排
+ 跨平台：react通过虚拟dom，实现的跨平台的能力，一套代码多端执行。

**缺点**

+ 在一些性能要求极高的应用中虚拟 DOM 无法进行针对性的极致优化
+ 首次渲染大量DOM时，由于多了一层虚拟DOM的计算，速度比正常稍慢

> 参考链接 :
>>[稀土掘金  -- [react] 什么是虚拟dom？虚拟dom比操作原生dom要快吗？虚拟dom是如何转变成真实dom并渲染到页面的? --  行星飞行](https://juejin.cn/post/7120141908730445854)。

## 说说react事件和原生事件的执行顺序

## 性能优化

### React.memo() 和 useMemo() 的用法和区别

+ React.memo() 是一个高阶组件，我们可以使用它来包装我们不想重新渲染的组件，除非其中的 props 发生变化
+ useMemo() 是一个 React Hook，我们可以使用它在组件中包装函数。 我们可以使用它来确保该函数中的值仅在其依赖项之一发生变化时才重新计算

 [稀土掘金-腾讯IMWeb团队](https://juejin.cn/post/6991837003537088542)。
