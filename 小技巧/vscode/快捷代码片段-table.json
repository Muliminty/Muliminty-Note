{
  "ProTable Component": {
    "prefix": "protable",
    "body": [
      "import React, { useState, useEffect, useRef } from 'react';",
      "import '@/assets/scss/custom/${1:ComponentName}.scss';",
      "import ProTable from '@ant-design/pro-table';",
      "import { Button, Input } from 'antd';",
      "import { useTranslation } from 'react-i18next';",
      "",
      "export default function ${1:ComponentName}() {",
      "  const { t } = useTranslation();",
      "  const actionRef = useRef();",
      "  const [searchHeight, setSearchHeight] = useState(0);",
      "  const [collapsed, setCollapsed] = useState(true);",
      "",
      "  const columns = [",
      "    {",
      "      title: '名称',",
      "      dataIndex: 'name',",
      "      key: 'name',",
      "      valueType: 'text',",
      "    },",
      "    {",
      "      title: '描述',",
      "      dataIndex: 'description',",
      "      key: 'description',",
      "      valueType: 'textarea',",
      "    },",
      "    {",
      "      title: '年龄',",
      "      dataIndex: 'age',",
      "      key: 'age',",
      "      valueType: 'digit',",
      "    },",
      "    {",
      "      title: '价格',",
      "      dataIndex: 'price',",
      "      key: 'price',",
      "      valueType: 'money',",
      "    },",
      "    {",
      "      title: '创建日期',",
      "      dataIndex: 'createdAt',",
      "      key: 'createdAt',",
      "      valueType: 'date',",
      "    },",
      "    {",
      "      title: '更新时间',",
      "      dataIndex: 'updatedAt',",
      "      key: 'updatedAt',",
      "      valueType: 'dateTime',",
      "    },",
      "    {",
      "      title: '状态',",
      "      dataIndex: 'status',",
      "      key: 'status',",
      "      valueType: 'select',",
      "      valueEnum: {",
      "        0: { text: '未开始', status: 'Default' },",
      "        1: { text: '进行中', status: 'Processing' },",
      "        2: { text: '已完成', status: 'Success' },",
      "        3: { text: '已取消', status: 'Error' },",
      "      },",
      "    },",
      "    {",
      "      title: 'renderFormItem',",
      "      dataIndex: 'age2',",
      "      key: 'age2',",
      "      valueType: 'age2',",
      "      width: '300px',",
      "      renderFormItem: (_, { type, defaultRender, formItemProps, fieldProps, ...rest }, form) => {",
      "        if (type === 'form') {",
      "          return null;",
      "        }",
      "        const status = form.getFieldValue('state');",
      "        if (status !== 'open') {",
      "          return (",
      "            <Input",
      "              {...fieldProps}",
      "              placeholder='renderFormItem渲染的结果'",
      "            />",
      "          );",
      "        }",
      "        return defaultRender(_);",
      "      },",
      "    },",
      "    {",
      "      title: '操作',",
      "      key: 'option',",
      "      width: 120,",
      "      fixed: 'right',",
      "      valueType: 'option',",
      "      render: (_, record) => [",
      "        <Button type='link'>编辑</Button>,",
      "        <Button type='link' danger>删除</Button>,",
      "      ],",
      "    },",
      "  ];",
      "",
      "  useEffect(() => {",
      "    const handleResize = () => {",
      "      setTimeout(() => {",
      "        const cardElement = document.querySelector('.ant-pro-table-search');",
      "        if (cardElement) {",
      "          const { height } = cardElement.getBoundingClientRect();",
      "          setSearchHeight(height);",
      "        }",
      "      }, 0);",
      "    };",
      "",
      "    handleResize();",
      "",
      "    window.addEventListener('resize', handleResize);",
      "",
      "    return () => {",
      "      window.removeEventListener('resize', handleResize);",
      "    };",
      "  }, [collapsed]);",
      "",
      "  const scroll = { x: 500, y: `calc(100vh - (${${searchHeight}}px + 420px))` };",
      "  const pagination = {",
      "    size: 'default',",
      "    defaultPageSize: 10,",
      "    showSizeChanger: true,",
      "  };",
      "",
      "  const search = {",
      "    span: 6,",
      "    collapsed: collapsed,",
      "    labelWidth: 'auto',",
      "    onCollapse: (value) => {",
      "      setCollapsed(value);",
      "    },",
      "    defaultCollapsed: true,",
      "  };",
      "",
      "  return (",
      "    <div className='${1:ComponentName}'>",
      "      <ProTable",
      "        className='zk-pro-table-custom'",
      "        columns={columns}",
      "        actionRef={actionRef}",
      "        pagination={pagination}",
      "        toolBarRender={() => [",
      "          <Button",
      "            key='button'",
      "            type='primary'",
      "            onClick={() => {",
      "              // 添加处理逻辑",
      "            }}",
      "          >",
      "            新建",
      "          </Button>,",
      "        ]}",
      "        search={search}",
      "        request={async (params) => {",
      "          try {",
      "            // const msg = await getModelProps({",
      "            //   ...params,",
      "            //   page: params.current,",
      "            //   pageSize: params.pageSize,",
      "            // });",
      "            // return {",
      "            //   data: msg.list,",
      "            //   success: true,",
      "            //   total: msg.totalCount,",
      "            // };",
      "          } catch (error) {",
      "            return {",
      "              data: [],",
      "              success: true,",
      "              total: 0,",
      "            };",
      "          }",
      "        }}",
      "      />",
      "    </div>",
      "  );",
      "}"
    ],
    "description": "ProTable Component"
  }
}
