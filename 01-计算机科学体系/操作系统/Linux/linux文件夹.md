# **📁 Linux 文件系统核心结构（树状层级）**

| **路径**        | **名称**           | **核心功能**                                                                 | **关键内容示例**                                       | **用户权限**          |
|------------------|--------------------|-----------------------------------------------------------------------------|--------------------------------------------------------|-----------------------|
| **`/`**          | **根目录**         | 所有目录和文件的起点                                                        | 不直接存放用户文件                                    | 管理员可修改          |
| **`/bin`**       | 基础命令           | **单用户模式必需**的命令二进制文件                                          | `ls`, `cp`, `rm`, `bash`, `cat`                       | 所有用户可执行        |
| **`/boot`**      | 引导文件           | 系统启动所需的**内核文件、引导加载器配置**                                  | `vmlinuz-*`（内核）, `initramfs-*`, `/grub/`          | 管理员权限            |
| **`/dev`**       | 设备文件           | **硬件/虚拟设备的文件接口**                                                | `/dev/sda`（硬盘）, `/dev/tty0`（终端）, `/dev/null`   | 按设备类型授权        |
| **`/etc`**       | 系统配置           | **全局配置文件**（系统/服务/应用配置）                                      | `/etc/passwd`, `/etc/network/`, `/etc/nginx/`         | 管理员可修改          |
| **`/home`**      | 用户主目录         | **普通用户的个人空间**（每个用户独立子目录）                               | `/home/jacky/`, `/home/alice/Documents/`              | 用户独享读写权限      |
| **`/lib`**       | 基础库文件         | `/bin` 和 `/sbin` 中程序的**共享库和内核模块**                              | `libc.so.*`（C库）, 内核模块 `/lib/modules/`          | 所有用户可读取        |
| **`/media`**     | 可移动设备挂载点   | **自动挂载移动设备**（U盘、光盘等）                                        | `/media/usb0/`, `/media/cdrom/`                       | 用户按需访问          |
| **`/mnt`**       | 临时挂载点         | **管理员手动挂载文件系统**的临时位置                                       | 临时挂载硬盘分区、NFS共享等                            | 管理员操作            |
| **`/opt`**       | 可选软件包         | **第三方独立软件**的安装目录                                               | `/opt/google/chrome/`, `/opt/jdk/`                    | 按软件权限设定        |
| **`/proc`**      | 内核与进程信息     | **虚拟文件系统**，实时反映**系统状态与进程**                               | `/proc/cpuinfo`, `/proc/meminfo`, `/proc/[PID]/`      | 部分文件需管理员权限  |
| **`/root`**      | 管理员主目录       | **root 用户的个人目录**                                                    | 同 `/home` 功能，但专属 root                           | 仅 root 可访问        |
| **`/run`**       | 运行时数据         | **进程运行时文件**（PID、sock 文件等），重启后清空                          | `/run/sshd.pid`, `/run/docker.sock`                   | 进程按需创建          |
| **`/sbin`**      | 系统管理命令       | **管理员专用命令**（系统维护/修复）                                        | `fdisk`, `iptables`, `reboot`, `init`                  | 仅 root 可执行        |
| **`/srv`**       | 服务数据           | **本地服务提供的数据文件**                                                 | `/srv/www/`（网站数据）, `/srv/ftp/`（FTP文件）       | 按服务配置授权        |
| **`/sys`**       | 系统硬件接口       | **虚拟文件系统**，管理硬件设备与内核参数                                   | `/sys/devices/`, `/sys/class/power_supply/`           | 部分配置需管理员权限  |
| **`/tmp`**       | 临时文件           | 程序或用户存放**临时文件**，重启**可能清空**                               | 缓存文件、会话数据                                    | 所有用户可读写（权限隔离）|
| **`/usr`**       | 用户程序资源       | **只读用户应用与资源**（次级层级）                                         | 包含多个子目录（见下表）                                | 大部分只读           |
| **`/var`**       | 可变数据           | **运行时动态变化的数据**                                                   | 包含多个子目录（见下表）                                | 按服务权限设定        |

---

### **📦 `/usr` 目录结构详解**
| **子目录**       | **用途**                                 |
|------------------|------------------------------------------|
| `/usr/bin`       | 绝大多数**用户命令**（非关键命令）         |
| `/usr/lib`       | 应用程序的**共享库**                     |
| `/usr/local`     | **本地编译安装**的软件（优先级最高）       |
| `/usr/sbin`      | 非必需的管理员命令（如网络服务）           |
| `/usr/share`     | 架构无关的**共享数据**（文档、字体、图标） |
| `/usr/include`   | C/C++ **头文件**（开发用）                |
| `/usr/src`       | 内核源代码（若有安装）                   |

---

### **📦 `/var` 目录结构详解**
| **子目录**       | **用途**                                 |
|------------------|------------------------------------------|
| `/var/log`       | **所有系统日志**（重要！）               |
| `/var/cache`     | 应用程序缓存数据                         |
| `/var/lib`       | 程序**运行时状态信息**（如数据库文件）   |
| `/var/mail`      | 用户邮箱                                 |
| `/var/run`       | 运行时PID文件（新版链接到 `/run`）       |
| `/var/spool`     | 任务队列（打印、cron任务等）             |
| `/var/www`       | Web服务器默认站点目录（部分系统）        |

---

### **🔑 核心原则**
1. **一切皆文件**  
   设备、进程、网络连接均以文件形式抽象存在。
2. **权限模型**  
   - **用户/组/其他**权限分离（`rwx`）  
   - 敏感目录禁止普通用户访问（如 `/root`, `/etc/sudoers`）
3. **大小写敏感**  
   `file.txt` ≠ `File.TXT`
4. **挂载机制**  
   磁盘/U盘/NFS 通过挂载到空目录接入文件树（如 `mount /dev/sdb1 /mnt/data`）。
5. **路径规范**  
   - 绝对路径以 `/` 开头（`/home/user/docs`）  
   - 相对路径基于当前目录（`../Downloads/`）

---

### ⚠️ **重要注意事项**
1. **勿随意删除系统目录**（尤其是 `/bin`, `/lib`, `/etc`），会导致系统崩溃！
2. `/tmp` **无持久性**：重启后文件可能消失（部分系统挂载为内存文件系统加速访问）。
3. `/proc` 和 `/sys` **不占用真实磁盘空间**：虚拟文件系统动态生成数据。
4. 用户程序**禁止写入 `/usr`**：应使用 `/usr/local` 或 `/opt` 安装自定义软件。

---

### 🔧 **常用管理命令速查**
```bash
# 查看目录大小
du -sh /var/log/

# 追踪实时日志
tail -f /var/log/syslog

# 检查文件类型
file /bin/ls

# 挂载设备
sudo mount /dev/sdc1 /mnt/external

# 查看磁盘空间
df -hT

# 查找文件路径
which ls    # 命令位置
whereis ls  # 命令及相关文件
```

> 掌握此结构可快速定位文件、排查故障并规范运维操作。💻  
> 注：少数发行版可能存在差异（如 Fedora 中 `/bin` 为 `/usr/bin` 符号链接）。