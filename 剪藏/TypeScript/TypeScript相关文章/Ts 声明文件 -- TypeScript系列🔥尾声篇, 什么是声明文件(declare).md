---
link: https://juejin.cn/post/6844903993727008776
title: TypeScriptç³»åˆ—ğŸ”¥å°¾å£°ç¯‡, ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶(declare)? [ğŸ¦•å…¨å±€å£°æ˜ç¯‡]
description: å¹´åº•æ¯”è¾ƒå¿™ğŸ”¥, å—ä¸ªäººæ—¶é—´é™åˆ¶, æš‚æŠŠ"å£°æ˜"éƒ¨åˆ†çš„å†…å®¹åˆ†ä¸º"å…¨å±€å£°æ˜ç¯‡"å’Œ"æ¨¡å—å£°æ˜ç¯‡", ğŸ‘·è¿˜è¯·å¤šå¤šåŒ…æ¶µ, æœ¬æ¬¡å…ˆè¯´"å…¨å±€". å£°æ˜æ–‡ä»¶å°±æ˜¯ç»™jsä»£ç è¡¥å……ç±»å‹æ ‡æ³¨. è¿™æ ·åœ¨tsç¼–è¯‘ç¯å¢ƒä¸‹å°±ä¸ä¼šæç¤ºjsæ–‡ä»¶"ç¼ºå°‘ç±»å‹". çœ‹è¿‡vue3æºç çš„åŒå­¦ä¸€å®šçŸ¥é“è¿™äº›æ˜¯vueä¸­çš„å˜é‡â€¦
keywords: TypeScript,Vue.js
author: é¦–é¡µ é¦–é¡µ æ²¸ç‚¹ è¯¾ç¨‹ ç›´æ’­ æ´»åŠ¨ ç«èµ› å•†åŸ App æ’ä»¶ æœç´¢å†å² æ¸…ç©º åˆ›ä½œè€…ä¸­å¿ƒ å†™æ–‡ç«  å‘æ²¸ç‚¹ å†™ç¬”è®° å†™ä»£ç  è‰ç¨¿ç®± åˆ›ä½œçµæ„Ÿ æŸ¥çœ‹æ›´å¤š ä¼šå‘˜ ç™»å½•
date: 2019-11-13T09:16:36.000Z
publisher: ç¨€åœŸæ˜é‡‘
stats: paragraph=67 sentences=56, words=276
---
## å¾€æœŸç›®å½•

[ç¬¬ä¸€è¯¾, ä½“éªŒtypescript](https://juejin.im/post/6844904008583217165 "https://juejin.im/post/6844904008583217165")

[ç¬¬äºŒè¯¾, åŸºç¡€ç±»å‹å’Œå…¥é—¨é«˜çº§ç±»å‹](https://juejin.im/post/6844904008583233544 "https://juejin.im/post/6844904008583233544")

[ç¬¬ä¸‰è¯¾, æ³›å‹](https://juejin.im/post/6844904008587411463 "https://juejin.im/post/6844904008587411463")

[ç¬¬å››è¯¾, è§£è¯»é«˜çº§ç±»å‹](https://juejin.im/post/6844903902563794952 "https://juejin.im/post/6844903902563794952")

[ç¬¬äº”è¯¾, å‘½åç©ºé—´(namespace)æ˜¯ä»€ä¹ˆ](https://juejin.im/post/6844903921031479309 "https://juejin.im/post/6844903921031479309")

[ç‰¹åˆ«ç¯‡, åœ¨vue3ğŸ”¥æºç ä¸­å­¦ä¼štypescriptğŸ¦• - "is"](https://juejin.im/post/6844903967877513230 "https://juejin.im/post/6844903967877513230")

[ç¬¬å…­è¯¾, ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶(declare)? ğŸ¦• - å…¨å±€å£°æ˜ç¯‡](https://juejin.im/post/6844903993727008776 "https://juejin.im/post/6844903993727008776")

[ç¬¬ä¸ƒè¯¾, é€šè¿‡vue3å®ä¾‹è¯´è¯´declare moduleè¯­æ³•æ€ä¹ˆç”¨ğŸ¦•æ¨¡å—å£°æ˜ç¯‡](https://juejin.cn/post/7008710181769084964 "https://juejin.cn/post/7008710181769084964")

[æ–°å¼€å‘vscodeæ’ä»¶: âš¡any-type, ä¸€é”®jsonåˆ°tsç±»å‹](https://juejin.cn/post/7055097715994132516 "https://juejin.cn/post/7055097715994132516")

## å…¨å±€å£°æ˜ç¯‡

å¹´åº•æ¯”è¾ƒå¿™ğŸ”¥, å—ä¸ªäººæ—¶é—´é™åˆ¶, æš‚æŠŠ"å£°æ˜"éƒ¨åˆ†çš„å†…å®¹åˆ†ä¸º" **å…¨å±€å£°æ˜ç¯‡**"å’Œ" **æ¨¡å—å£°æ˜ç¯‡**", ğŸ‘·è¿˜è¯·å¤šå¤šåŒ…æ¶µ, æœ¬æ¬¡å…ˆè¯´" **å…¨å±€**".

## ä»€ä¹ˆæ˜¯å£°æ˜æ–‡ä»¶?

**å£°æ˜æ–‡ä»¶å°±æ˜¯ç»™jsä»£ç è¡¥å……ç±»å‹æ ‡æ³¨**. è¿™æ ·åœ¨tsç¼–è¯‘ç¯å¢ƒä¸‹å°±ä¸ä¼šæç¤ºjsæ–‡ä»¶"ç¼ºå°‘ç±»å‹".

å£°æ˜å˜é‡ä½¿ç”¨å…³é”®å­— `declare`æ¥è¡¨ç¤ºå£°æ˜å…¶åé¢çš„ **å…¨å±€**å˜é‡çš„ç±»å‹, æ¯”å¦‚:

```typescript

declare var __DEV__: boolean
declare var __TEST__: boolean
declare var __BROWSER__: boolean
declare var __RUNTIME_COMPILE__: boolean
declare var __COMMIT__: string
declare var __VERSION__: string
å¤åˆ¶ä»£ç 
```

çœ‹è¿‡vue3æºç çš„åŒå­¦ä¸€å®šçŸ¥é“è¿™äº›æ˜¯vueä¸­çš„å˜é‡, ä¸Šé¢ä»£ç è¡¨ç¤º `__DEV__`ç­‰å˜é‡æ˜¯å…¨å±€, å¹¶ä¸”æ ‡æ³¨äº†ä»–ä»¬çš„ç±»å‹. è¿™æ ·æ— è®ºåœ¨é¡¹ç›®ä¸­çš„å“ªä¸ªtsæ–‡ä»¶ä¸­ä½¿ç”¨ `__DEV__`, å˜é‡tsç¼–è¯‘å™¨éƒ½ä¼šçŸ¥é“ä»–æ˜¯ `boolean`ç±»å‹.

## å£°æ˜æ–‡ä»¶åœ¨å“ªé‡Œ?

é¦–å…ˆå£°æ˜æ–‡ä»¶çš„æ–‡ä»¶åæ˜¯æœ‰è§„èŒƒè¦æ±‚çš„, å¿…é¡»ä»¥ `.d.ts`ç»“å°¾, çœ‹äº†ä¸Šé¢çš„ä»£ç ä½ è‚¯å®šæƒ³ç»ƒä¹ å†™ä¸‹å£°æ˜æ–‡ä»¶, ä½†æ˜¯ä½ å¯èƒ½æƒ³é—®äº†" **å†™å®Œæ”¾åœ¨å“ªé‡Œ**", ç½‘ä¸Šè¯´å£°æ˜æ–‡ä»¶æ”¾åœ¨é¡¹ç›®é‡Œçš„ **ä»»æ„è·¯å¾„/æ–‡ä»¶å**éƒ½å¯ä»¥è¢«tsç¼–è¯‘å™¨è¯†åˆ«, ä½†å®é™…å¼€å‘ä¸­å‘ç°, ä¸ºäº†è§„é¿ä¸€äº›å¥‡æ€ªçš„é—®é¢˜, **æ¨èæ”¾åœ¨æ ¹ç›®å½•ä¸‹**.

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5a1e5435fc4b49d0992137558bbeb2ba~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image)

## åˆ«äººå†™å¥½çš„å£°æ˜æ–‡ä»¶( @types/xxx )

ä¸€èˆ¬æ¯”è¾ƒå¤§ç‰Œçš„ç¬¬ä¸‰æ–¹jsæ’ä»¶åœ¨npmä¸Šéƒ½æœ‰å¯¹åº”çš„å£°æ˜æ–‡ä»¶, æ¯”å¦‚jqueryçš„å£°æ˜æ–‡ä»¶å°±å¯ä»¥åœ¨npmä¸Šä¸‹è½½:

```shell
npm i @types/jquery
å¤åˆ¶ä»£ç 
```

`npm i @types/jquery`ä¸­çš„jqueryå¯ä»¥æ¢æˆä»»æ„jsåº“çš„åå­—, å½“ç„¶ **å‰ææ˜¯æœ‰äººå†™äº†å¯¹åº”çš„å£°æ˜æ–‡ä»¶å‘å¸ƒåˆ°äº†npm**.

**å®‰è£…å**, æˆ‘ä»¬å¯ä»¥åœ¨ `node_modules/@types/jquery`ä¸­çš„çœ‹åˆ°å£°æ˜æ–‡ä»¶, è¿™é‡Œæˆ‘æ‰“å¼€ `mise.d.ts`æ–‡ä»¶:

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8b830a2f95564185bc8a65cb1c526709~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image)

## å£°æ˜æ–‡ä»¶å¯¹çº¯jsé¡¹ç›®æœ‰ä»€ä¹ˆå¸®åŠ©?

å³ä¾¿ä½ åªå†™jsä»£ç , ä¹Ÿå¯ä»¥å®‰è£…å£°æ˜æ–‡ä»¶, å› ä¸ºå¦‚æœä½ ç”¨çš„æ˜¯ **vscode**, é‚£ä¹ˆä»–ä¼šè‡ªåŠ¨åˆ†æjsä»£ç , å¦‚æœå­˜åœ¨å¯¹åº”çš„å£°æ˜æ–‡ä»¶, vscodeä¼šæŠŠå£°æ˜æ–‡ä»¶çš„å†…å®¹ä½œä¸º **ä»£ç æç¤º**.

`jquery`åœ¨å®‰è£…äº†å£°æ˜æ–‡ä»¶å

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dcc9efd5ef8446385d00a8c85027b39~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image)

## ä»€ä¹ˆæƒ…å†µä¸‹è¦è‡ªå·±å†™å£°æ˜æ–‡ä»¶?

å¦‚æœ"@types/"ä¸‹æ‰¾ä¸åˆ°å£°æ˜æ–‡ä»¶, é‚£ä¹ˆå°±éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹å†™äº†.

## ğŸ”¥å¦‚ä½•å†™å£°æ˜æ–‡ä»¶?

å£°æ˜æ–‡ä»¶åˆ†2å¤§ç±», ä¸€ç±»æ˜¯å…¨å±€å£°æ˜, ä¸€ç±»æ˜¯å¯¹æ¨¡å—çš„å£°æ˜. è¿™èŠ‚åªè¯´"å…¨å±€".

### å…¨å±€å£°æ˜

é€šè¿‡ `declare`æˆ‘ä»¬å¯ä»¥æ ‡æ³¨jså…¨å±€å˜é‡çš„ç±»å‹.

#### ç®€å•åº”ç”¨

```typescript

declare var n: number;
declare let s: string;
declare const o: object;
declare function f(s: string): number;
declare enum dir {
    top,
    right,
    bottom,
    left
}
å¤åˆ¶ä»£ç 
```

å£°æ˜ä¹‹å,æˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»æ„æ–‡ä»¶ä¸­ç›´æ¥æ“ä½œå˜é‡:

```typescript
n = 321
s = 'æ–‡å­—'
let o1 = o;
f('123').toFixed();
dir.bottom.toFixed();

n = '312'
s = 123
å¤åˆ¶ä»£ç 
```

#### declare namespace

è¿™ä¸ª `namespace`ä»£è¡¨åé¢çš„å…¨å±€å˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡:

```typescript

declare namespace MyPlugin {
    var n:number;
    var s:string;
    var f:(s:string)=>number;
}
å¤åˆ¶ä»£ç 
```

```typescript
MyPlugin.s.substr(0,1);
MyPlugin.n.toFixed();
MyPlugin.f('æ–‡å­—').toFixed();

MyPlugin.s.toFixed();
MyPlugin.n.substr(0,1);
MyPlugin.f(123);
å¤åˆ¶ä»£ç 
```

#### ä¿®æ”¹å·²å­˜åœ¨çš„å…¨å±€å£°æ˜

å…¶å®æˆ‘ä»¬å®‰è£…å®Œt **ypescript**, ä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬å®‰è£…ä¸€äº›ç³»ç»Ÿå˜é‡çš„å£°æ˜æ–‡ä»¶, å­˜åœ¨ `node_modules/typescript/lib`ä¸‹.

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4a547d4b42e4e2d88161535e7df12dd~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image)

å¦‚æœä½ è¦ä¿®æ”¹ **å·²å­˜åœ¨**çš„å…¨å±€å˜é‡çš„å£°æ˜å¯ä»¥è¿™ä¹ˆå†™, ä¸‹é¢ç”¨nodeä¸‹çš„ `global`ä¸¾ä¾‹,

```typescript
declare global {
    interface String {
        hump(input: string): string;
    }
}

export {}
å¤åˆ¶ä»£ç 
```

ç°åœ¨ `String`ç±»å‹åœ¨vscodeçš„è¯­æ³•æç¤ºä¸‹å¤šäº†ä¸€ä¸ª `hump`çš„æ–¹æ³•,ä¸è¿‡æˆ‘ä»¬åªæ˜¯å£°æ˜, å¹¶æ²¡æœ‰ç”¨jså®ç°, æ‰€ä»¥è¿è¡Œä¼šæŠ¥é”™, æ‰€ä»¥ä¸è¦å¿˜äº†å†™jsçš„å®ç°éƒ¨åˆ†å“¦.

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d53b37a1ea9427799d8de6dd64295dd~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image)

## æ€»ç»“

å¹´åº•çœŸæ˜¯æ¯”è¾ƒå¿™, ä½†æ˜¯ä¹‹å‰ç­”åº”äº†æ›´æ–°tsçš„å†…å®¹, æ‰€ä»¥åªèƒ½ä¸€æ­¥æ­¥å®Œæˆ"å£°æ˜"éƒ¨åˆ†çš„å†…å®¹, è¿˜è¯·è§è°…ğŸ‘·.

å¤šå†™å¤šç»ƒ, å¾ˆå¿«å°±ä¸Šæ‰‹, æ”¾å‡ ä¸ªæˆ‘ç”¨tså†™çš„é¡¹ç›®å½“åšå‚è€ƒ, æŠ›ç –å¼•ç‰, åŠ æ²¹!

**âœ‹ ç§»åŠ¨/pcç«¯æ‰‹åŠ¿åº“, æ”¯æŒ: tap/press/pan/swipe/rotate/pinch**

[github.com/any86/any-t...](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fany86%2Fany-touch "https://github.com/any86/any-touch")

**ğŸ­ æŠŠvueç»„ä»¶å˜æˆthis.$xxxè¿™æ ·çš„å‘½ä»¤**

[github.com/any86/vue-c...](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fany86%2Fvue-create-root "https://github.com/any86/vue-create-root")

## å¾®ä¿¡ç¾¤

æ„Ÿè°¢å¤§å®¶çš„é˜…è¯», å¦‚æœ‰ç–‘é—®å¯ä»¥åŠ æˆ‘å¾®ä¿¡, æˆ‘æ‹‰ä½ è¿›å…¥ **å¾®ä¿¡ç¾¤**(ç”±äºè…¾è®¯å¯¹å¾®ä¿¡ç¾¤çš„100äººé™åˆ¶, è¶…è¿‡100äººåå¿…é¡»ç”±ç¾¤æˆå‘˜æ‹‰å…¥)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad6c8f0de524493ea506868ef796da93~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image)
