# Webpack å¿«é€Ÿå¼€å§‹

> æœ¬æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œæ­å»ºç¬¬ä¸€ä¸ª Webpack é¡¹ç›®ã€‚å®Œæˆæœ¬æ•™ç¨‹åï¼Œä½ å°†ç†è§£ Webpack çš„åŸºæœ¬ç”¨æ³•ï¼Œå¹¶èƒ½å¤Ÿè¿è¡Œä½ çš„ç¬¬ä¸€ä¸ªæ‰“åŒ…é¡¹ç›®ã€‚

**é¢„è®¡æ—¶é—´**ï¼š15-20 åˆ†é’Ÿ

---

## ğŸ“‹ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬æ•™ç¨‹åï¼Œä½ å°†èƒ½å¤Ÿï¼š

- âœ… ç†è§£ Webpack æ˜¯ä»€ä¹ˆä»¥åŠå®ƒçš„ä½œç”¨
- âœ… å®‰è£…å’Œé…ç½® Webpack
- âœ… åˆ›å»ºç¬¬ä¸€ä¸ª Webpack é¡¹ç›®
- âœ… è¿è¡Œå¼€å‘æœåŠ¡å™¨å’Œæ„å»ºé¡¹ç›®
- âœ… ç†è§£åŸºæœ¬çš„æ‰“åŒ…æµç¨‹

---

## ä»€ä¹ˆæ˜¯ Webpackï¼Ÿ

Webpack æ˜¯ä¸€ä¸ª**æ¨¡å—æ‰“åŒ…å™¨**ï¼ˆModule Bundlerï¼‰ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ï¼š

1. **åˆ†æä¾èµ–**ï¼šä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œåˆ†ææ‰€æœ‰æ¨¡å—çš„ä¾èµ–å…³ç³»
2. **è½¬æ¢èµ„æº**ï¼šå°†å„ç§èµ„æºï¼ˆJSã€CSSã€å›¾ç‰‡ç­‰ï¼‰è½¬æ¢ä¸ºæµè§ˆå™¨å¯è¯†åˆ«çš„æ ¼å¼
3. **æ‰“åŒ…è¾“å‡º**ï¼šå°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶

### ä¸ºä»€ä¹ˆéœ€è¦ Webpackï¼Ÿ

åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ï¼š
- ES6+ è¯­æ³•
- æ¨¡å—åŒ–ï¼ˆimport/exportï¼‰
- CSS é¢„å¤„ç†å™¨ï¼ˆSassã€Lessï¼‰
- TypeScript
- å„ç§æ¡†æ¶å’Œåº“

ä½†æµè§ˆå™¨ä¸èƒ½ç›´æ¥ç†è§£è¿™äº›ï¼ŒWebpack å¸®åŠ©æˆ‘ä»¬ï¼š
- å°† ES6+ è½¬æ¢ä¸º ES5
- å¤„ç†æ¨¡å—ä¾èµ–
- ä¼˜åŒ–å’Œå‹ç¼©ä»£ç 
- æä¾›å¼€å‘æœåŠ¡å™¨

---

## ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡

### æ£€æŸ¥ Node.js

ç¡®ä¿å·²å®‰è£… Node.jsï¼ˆå»ºè®® 14+ ç‰ˆæœ¬ï¼‰ï¼š

```bash
node -v
# åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œå¦‚ v16.14.0
```

å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œè¯·è®¿é—® [Node.js å®˜ç½‘](https://nodejs.org/) ä¸‹è½½å®‰è£…ã€‚

---

## ç¬¬äºŒæ­¥ï¼šåˆ›å»ºé¡¹ç›®

### 1. åˆ›å»ºé¡¹ç›®ç›®å½•

```bash
# åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹
mkdir my-webpack-project
cd my-webpack-project
```

### 2. åˆå§‹åŒ– package.json

```bash
npm init -y
```

è¿™ä¼šåˆ›å»ºä¸€ä¸ª `package.json` æ–‡ä»¶ï¼Œç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–ã€‚

### 3. å®‰è£… Webpack

```bash
# å®‰è£… Webpack æ ¸å¿ƒåŒ…ï¼ˆå¼€å‘ä¾èµ–ï¼‰
npm install --save-dev webpack webpack-cli
```

**è¯´æ˜**ï¼š
- `webpack`ï¼šWebpack æ ¸å¿ƒåŒ…
- `webpack-cli`ï¼šWebpack å‘½ä»¤è¡Œå·¥å…·
- `--save-dev`ï¼šä½œä¸ºå¼€å‘ä¾èµ–å®‰è£…ï¼ˆç”Ÿäº§ç¯å¢ƒä¸éœ€è¦ï¼‰

### 4. æŸ¥çœ‹å®‰è£…ç»“æœ

å®‰è£…å®Œæˆåï¼Œ`package.json` ä¼šåŒ…å«ï¼š

```json
{
  "devDependencies": {
    "webpack": "^5.x.x",
    "webpack-cli": "^5.x.x"
  }
}
```

---

## ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºé¡¹ç›®ç»“æ„

åˆ›å»ºä»¥ä¸‹ç›®å½•ç»“æ„ï¼š

```
my-webpack-project/
â”œâ”€â”€ src/              # æºä»£ç ç›®å½•
â”‚   â””â”€â”€ index.js      # å…¥å£æ–‡ä»¶
â”œâ”€â”€ dist/             # è¾“å‡ºç›®å½•ï¼ˆWebpack è‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ webpack.config.js # Webpack é…ç½®æ–‡ä»¶
â””â”€â”€ package.json
```

### åˆ›å»ºæºæ–‡ä»¶

**src/index.js**ï¼ˆå…¥å£æ–‡ä»¶ï¼‰

```javascript
// è¿™æ˜¯æˆ‘ä»¬çš„å…¥å£æ–‡ä»¶
console.log('Hello Webpack!')

// åˆ›å»ºä¸€ä¸ªç®€å•çš„å‡½æ•°
function greet(name) {
  return `Hello, ${name}!`
}

// ä½¿ç”¨å‡½æ•°
const message = greet('Webpack')
console.log(message)
```

---

## ç¬¬å››æ­¥ï¼šåˆ›å»º Webpack é…ç½®

åˆ›å»º `webpack.config.js` æ–‡ä»¶ï¼š

```javascript
const path = require('path')

module.exports = {
  // å…¥å£æ–‡ä»¶ï¼šWebpack ä»è¿™é‡Œå¼€å§‹åˆ†æä¾èµ–
  entry: './src/index.js',
  
  // è¾“å‡ºé…ç½®
  output: {
    // è¾“å‡ºç›®å½•ï¼ˆå¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼‰
    path: path.resolve(__dirname, 'dist'),
    // è¾“å‡ºæ–‡ä»¶å
    filename: 'bundle.js'
  },
  
  // æ¨¡å¼ï¼šdevelopmentï¼ˆå¼€å‘ï¼‰æˆ– productionï¼ˆç”Ÿäº§ï¼‰
  mode: 'development'
}
```

**é…ç½®è¯´æ˜**ï¼š
- `entry`ï¼šå‘Šè¯‰ Webpack ä»å“ªé‡Œå¼€å§‹æ‰“åŒ…
- `output.path`ï¼šæ‰“åŒ…åçš„æ–‡ä»¶è¾“å‡ºåˆ°å“ªé‡Œ
- `output.filename`ï¼šæ‰“åŒ…åçš„æ–‡ä»¶å
- `mode`ï¼šå¼€å‘æ¨¡å¼ï¼Œä»£ç ä¸ä¼šè¢«å‹ç¼©

---

## ç¬¬äº”æ­¥ï¼šé…ç½® npm è„šæœ¬

åœ¨ `package.json` ä¸­æ·»åŠ æ„å»ºè„šæœ¬ï¼š

```json
{
  "scripts": {
    "build": "webpack",
    "dev": "webpack --watch"
  }
}
```

**è„šæœ¬è¯´æ˜**ï¼š
- `build`ï¼šæ‰§è¡Œä¸€æ¬¡æ‰“åŒ…
- `dev`ï¼šç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨é‡æ–°æ‰“åŒ…

---

## ç¬¬å…­æ­¥ï¼šè¿è¡Œç¬¬ä¸€ä¸ªæ‰“åŒ…

### æ‰§è¡Œæ‰“åŒ…

```bash
npm run build
```

### æŸ¥çœ‹ç»“æœ

æ‰“åŒ…å®Œæˆåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
asset bundle.js 1.2 KiB [emitted] (name: main)
./src/index.js 123 bytes [built] [code generated]
```

åŒæ—¶ï¼Œ`dist` ç›®å½•ä¸‹ä¼šç”Ÿæˆ `bundle.js` æ–‡ä»¶ã€‚

### æŸ¥çœ‹æ‰“åŒ…ç»“æœ

æ‰“å¼€ `dist/bundle.js`ï¼Œä½ ä¼šçœ‹åˆ° Webpack å·²ç»ï¼š
- å°†ä½ çš„ä»£ç æ‰“åŒ…
- æ·»åŠ äº†ä¸€äº› Webpack çš„è¿è¡Œæ—¶ä»£ç 
- ä»£ç è¢«åŒ…è£…åœ¨æ¨¡å—ç³»ç»Ÿä¸­

---

## ç¬¬ä¸ƒæ­¥ï¼šæµ‹è¯•æ‰“åŒ…ç»“æœ

### åˆ›å»º HTML æ–‡ä»¶

åˆ›å»º `dist/index.html`ï¼š

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Webpack Project</title>
</head>
<body>
  <h1>Webpack é¡¹ç›®</h1>
  <!-- å¼•å…¥æ‰“åŒ…åçš„ JS æ–‡ä»¶ -->
  <script src="bundle.js"></script>
</body>
</html>
```

### åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€

ç”¨æµè§ˆå™¨æ‰“å¼€ `dist/index.html`ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼Œä½ åº”è¯¥èƒ½åœ¨æ§åˆ¶å°çœ‹åˆ°ï¼š

```
Hello Webpack!
Hello, Webpack!
```

**æ­å–œï¼** ä½ çš„ç¬¬ä¸€ä¸ª Webpack é¡¹ç›®è¿è¡ŒæˆåŠŸäº†ï¼ğŸ‰

---

## ç¬¬å…«æ­¥ï¼šä½¿ç”¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰

æ‰‹åŠ¨åˆ›å»º HTML æ–‡ä»¶å¾ˆéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Webpack çš„å¼€å‘æœåŠ¡å™¨ã€‚

### å®‰è£… webpack-dev-server

```bash
npm install --save-dev webpack-dev-server
```

### æ›´æ–°é…ç½®

**webpack.config.js**

```javascript
const path = require('path')

module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'bundle.js'
  },
  mode: 'development',
  
  // å¼€å‘æœåŠ¡å™¨é…ç½®
  devServer: {
    static: {
      directory: path.join(__dirname, 'dist')
    },
    port: 3000,
    open: true,  // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    hot: true    // çƒ­æ›´æ–°
  }
}
```

### æ›´æ–° package.json

```json
{
  "scripts": {
    "build": "webpack",
    "dev": "webpack serve",
    "watch": "webpack --watch"
  }
}
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ `http://localhost:3000`ï¼Œå¹¶ä¸”å½“ä½ ä¿®æ”¹ä»£ç æ—¶ï¼Œé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚

---

## å¸¸è§é—®é¢˜

### 1. æ‰¾ä¸åˆ° webpack å‘½ä»¤

**é—®é¢˜**ï¼šæ‰§è¡Œ `webpack` æ—¶æŠ¥é”™ "command not found"

**è§£å†³**ï¼šä½¿ç”¨ `npx webpack` æˆ– `npm run build`

### 2. æ‰“åŒ…åæ–‡ä»¶å¾ˆå¤§

**åŸå› **ï¼šå¼€å‘æ¨¡å¼ä¸‹ï¼ŒWebpack ä¼šåŒ…å«è°ƒè¯•ä¿¡æ¯

**è§£å†³**ï¼šä½¿ç”¨ç”Ÿäº§æ¨¡å¼ `mode: 'production'`ï¼Œä»£ç ä¼šè¢«å‹ç¼©

### 3. ä¿®æ”¹ä»£ç åæ²¡æœ‰å˜åŒ–

**è§£å†³**ï¼š
- ä½¿ç”¨ `npm run dev` å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨åˆ·æ–°ï¼‰
- æˆ–ä½¿ç”¨ `npm run watch` ç›‘å¬æ–‡ä»¶å˜åŒ–

---

## ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å·²ç»å®Œæˆäº†ç¬¬ä¸€ä¸ª Webpack é¡¹ç›®ï¼æ¥ä¸‹æ¥å¯ä»¥å­¦ä¹ ï¼š

1. **[æ ¸å¿ƒæ¦‚å¿µ](./02-æ ¸å¿ƒæ¦‚å¿µ.md)** - ç†è§£ Entryã€Outputã€Loaderã€Plugin ç­‰æ ¸å¿ƒæ¦‚å¿µ
2. **[åŸºç¡€é…ç½®è¯¦è§£](./03-åŸºç¡€é…ç½®è¯¦è§£.md)** - æ·±å…¥å­¦ä¹ é…ç½®é€‰é¡¹
3. **[å®æˆ˜é¡¹ç›®ï¼šä»é›¶æ­å»º React é¡¹ç›®](./10-å®æˆ˜é¡¹ç›®-React.md)** - æ­å»ºçœŸå®çš„ React é¡¹ç›®

---

## æ€»ç»“

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä½ å­¦ä¼šäº†ï¼š

- âœ… Webpack æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒ
- âœ… å¦‚ä½•å®‰è£…å’Œé…ç½® Webpack
- âœ… å¦‚ä½•åˆ›å»ºå’Œè¿è¡Œç¬¬ä¸€ä¸ª Webpack é¡¹ç›®
- âœ… å¦‚ä½•ä½¿ç”¨å¼€å‘æœåŠ¡å™¨

**å…³é”®ç‚¹**ï¼š
- Webpack ä» `entry` å¼€å§‹åˆ†æä¾èµ–
- æ‰“åŒ…ç»“æœè¾“å‡ºåˆ° `output.path`
- ä½¿ç”¨ `mode` åŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ
- å¼€å‘æœåŠ¡å™¨æä¾›çƒ­æ›´æ–°åŠŸèƒ½

ç»§ç»­å­¦ä¹ ï¼Œä½ ä¼šæŒæ¡æ›´å¤š Webpack çš„å¼ºå¤§åŠŸèƒ½ï¼

---

#Webpack #å¿«é€Ÿå¼€å§‹ #å…¥é—¨æ•™ç¨‹ #å‰ç«¯æ„å»º

