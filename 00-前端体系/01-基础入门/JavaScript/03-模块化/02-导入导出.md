# å¯¼å…¥å¯¼å‡ºï¼ˆImport & Exportï¼‰

ES6 æ¨¡å—çš„å¯¼å…¥å¯¼å‡ºæ–¹å¼è¯¦è§£ã€‚

---

## ğŸ“¤ å¯¼å‡ºæ–¹å¼

### 1. å‘½åå¯¼å‡ºï¼ˆNamed Exportï¼‰

#### æ–¹å¼ä¸€ï¼šå£°æ˜æ—¶å¯¼å‡º

```javascript
// math.js
export const PI = 3.14159;
export function add(a, b) {
  return a + b;
}
export class Calculator {
  multiply(a, b) {
    return a * b;
  }
}
```

#### æ–¹å¼äºŒï¼šå…ˆå£°æ˜åå¯¼å‡º

```javascript
// math.js
const PI = 3.14159;
function add(a, b) {
  return a + b;
}
class Calculator {
  multiply(a, b) {
    return a * b;
  }
}

export { PI, add, Calculator };
```

#### æ–¹å¼ä¸‰ï¼šå¯¼å‡ºæ—¶é‡å‘½å

```javascript
// math.js
function add(a, b) {
  return a + b;
}

export { add as sum }; // å¯¼å‡ºæ—¶é‡å‘½åä¸º sum
```

---

### 2. é»˜è®¤å¯¼å‡ºï¼ˆDefault Exportï¼‰

æ¯ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼š

```javascript
// utils.js
export default function formatDate(date) {
  return date.toISOString();
}

// æˆ–è€…
function formatDate(date) {
  return date.toISOString();
}
export default formatDate;

// æˆ–è€…å¯¼å‡ºå¯¹è±¡
export default {
  formatDate,
  parseDate
};
```

#### é»˜è®¤å¯¼å‡ºç±»

```javascript
// Calculator.js
export default class Calculator {
  add(a, b) {
    return a + b;
  }
}
```

#### é»˜è®¤å¯¼å‡ºå€¼

```javascript
// config.js
export default {
  apiUrl: 'https://api.example.com',
  timeout: 5000
};
```

---

### 3. æ··åˆå¯¼å‡º

```javascript
// config.js
export const API_URL = 'https://api.example.com';
export const TIMEOUT = 5000;

export default {
  version: '1.0.0',
  name: 'MyApp'
};
```

---

## ğŸ“¥ å¯¼å…¥æ–¹å¼

### 1. å‘½åå¯¼å…¥

#### å¯¼å…¥å•ä¸ª

```javascript
import { PI, add } from './math.js';
```

#### å¯¼å…¥å…¨éƒ¨

```javascript
import * as math from './math.js';
console.log(math.PI);
console.log(math.add(1, 2));
```

#### å¯¼å…¥æ—¶é‡å‘½å

```javascript
import { add as sum } from './math.js';
sum(1, 2); // ä½¿ç”¨é‡å‘½ååçš„åç§°
```

#### å¯¼å…¥å¤šä¸ª

```javascript
import { PI, add, Calculator } from './math.js';
```

---

### 2. é»˜è®¤å¯¼å…¥

```javascript
import formatDate from './utils.js';
formatDate(new Date());
```

#### é»˜è®¤å¯¼å…¥å’Œå‘½åå¯¼å…¥æ··åˆ

```javascript
// config.js
export const API_URL = 'https://api.example.com';
export default {
  version: '1.0.0'
};

// å¯¼å…¥
import config, { API_URL } from './config.js';
console.log(config.version);
console.log(API_URL);
```

#### é‡å‘½åé»˜è®¤å¯¼å…¥

```javascript
import { default as formatDate } from './utils.js';
// æˆ–è€…
import formatDate from './utils.js'; // æ›´ç®€æ´
```

---

### 3. ä»…æ‰§è¡Œæ¨¡å—

```javascript
// polyfills.js
if (!Array.prototype.includes) {
  Array.prototype.includes = function(item) {
    return this.indexOf(item) !== -1;
  };
}

// å¯¼å…¥ï¼ˆä»…æ‰§è¡Œï¼Œä¸å¯¼å…¥ä»»ä½•å†…å®¹ï¼‰
import './polyfills.js';
```

---

## ğŸ”„ é‡æ–°å¯¼å‡ºï¼ˆRe-exportï¼‰

### é‡æ–°å¯¼å‡ºå‘½åå¯¼å‡º

```javascript
// math.js
export function add(a, b) { return a + b; }
export function subtract(a, b) { return a - b; }

// index.jsï¼ˆé‡æ–°å¯¼å‡ºï¼‰
export { add, subtract } from './math.js';

// æˆ–è€…å¯¼å‡ºå…¨éƒ¨
export * from './math.js';
```

### é‡æ–°å¯¼å‡ºé»˜è®¤å¯¼å‡º

```javascript
// utils.js
export default function formatDate(date) {
  return date.toISOString();
}

// index.js
export { default } from './utils.js';
// æˆ–è€…
export { default as formatDate } from './utils.js';
```

### é‡æ–°å¯¼å‡ºå¹¶é‡å‘½å

```javascript
// math.js
export function add(a, b) { return a + b; }

// index.js
export { add as sum } from './math.js';
```

---

## ğŸ’¡ å¸¸è§æ¨¡å¼

### 1. ç»Ÿä¸€å¯¼å‡ºå…¥å£ï¼ˆBarrel Exportï¼‰

```javascript
// utils/index.js
export { formatDate } from './date.js';
export { formatCurrency } from './currency.js';
export { formatNumber } from './number.js';

// ä½¿ç”¨
import { formatDate, formatCurrency } from './utils/index.js';
```

### 2. æ¡ä»¶å¯¼å‡º

```javascript
// config.js
const isDev = process.env.NODE_ENV === 'development';

export const API_URL = isDev 
  ? 'http://localhost:3000'
  : 'https://api.example.com';
```

### 3. èšåˆå¯¼å‡º

```javascript
// index.js
export * from './math.js';
export * from './utils.js';
export { default as Calculator } from './calculator.js';
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å¯¼å‡ºçš„æ˜¯å¼•ç”¨ï¼Œä¸æ˜¯å€¼

```javascript
// counter.js
export let count = 0;
export function increment() {
  count++;
}

// app.js
import { count, increment } from './counter.js';
console.log(count); // 0
increment();
console.log(count); // 1ï¼ˆå…±äº«åŒä¸€ä¸ª countï¼‰
```

### 2. ä¸èƒ½é‡æ–°èµ‹å€¼å¯¼å…¥çš„ç»‘å®š

```javascript
// âŒ é”™è¯¯
import { count } from './counter.js';
count = 10; // TypeError: Assignment to constant variable

// âœ… æ­£ç¡®ï¼šé€šè¿‡å‡½æ•°ä¿®æ”¹
import { increment } from './counter.js';
increment();
```

### 3. å¯¼å…¥æå‡

```javascript
// âœ… å¯¼å…¥ä¼šè¢«æå‡åˆ°é¡¶éƒ¨
console.log(add(1, 2)); // å¯ä»¥æ­£å¸¸ä½¿ç”¨
import { add } from './math.js';
```

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [ES6 æ¨¡å—](./01-ES6æ¨¡å—.md) â€” ES6 æ¨¡å—åŸºç¡€
- [åŠ¨æ€å¯¼å…¥](./03-åŠ¨æ€å¯¼å…¥.md) â€” `import()` åŠ¨æ€å¯¼å…¥
- [æ¨¡å—åŒ–å†å²](./04-æ¨¡å—åŒ–å†å².md) â€” æ¨¡å—åŒ–å‘å±•å†å²

---

**å‚è€ƒ**ï¼š
- [MDN: import](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/import)
- [MDN: export](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/export)

---

#javascript #æ¨¡å—åŒ– #import #export #es-modules
