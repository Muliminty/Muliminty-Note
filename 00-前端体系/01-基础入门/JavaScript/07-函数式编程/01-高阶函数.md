# é«˜é˜¶å‡½æ•°ï¼ˆHigher-order Functionsï¼‰

æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°æˆ–è¿”å›å‡½æ•°çš„å‡½æ•°ã€‚

---

## ğŸ“š åŸºæœ¬æ¦‚å¿µ

### å®šä¹‰

é«˜é˜¶å‡½æ•°æ˜¯ï¼š
1. **æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°**çš„å‡½æ•°
2. **è¿”å›å‡½æ•°**çš„å‡½æ•°
3. æˆ–ä¸¤è€…å…¼æœ‰

```javascript
// æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°
function map(array, fn) {
  return array.map(fn);
}

// è¿”å›å‡½æ•°
function multiplyBy(n) {
  return function(x) {
    return x * n;
  };
}
```

---

## ğŸ¯ å¸¸è§é«˜é˜¶å‡½æ•°

### 1. Array.map()

```javascript
const numbers = [1, 2, 3, 4];
const doubled = numbers.map(n => n * 2);
console.log(doubled); // [2, 4, 6, 8]
```

### 2. Array.filter()

```javascript
const numbers = [1, 2, 3, 4, 5];
const evens = numbers.filter(n => n % 2 === 0);
console.log(evens); // [2, 4]
```

### 3. Array.reduce()

```javascript
const numbers = [1, 2, 3, 4];
const sum = numbers.reduce((acc, n) => acc + n, 0);
console.log(sum); // 10
```

### 4. Array.forEach()

```javascript
const numbers = [1, 2, 3];
numbers.forEach(n => console.log(n));
// 1
// 2
// 3
```

### 5. Array.find()

```javascript
const users = [
  { id: 1, name: 'Alice' },
  { id: 2, name: 'Bob' }
];
const user = users.find(u => u.id === 2);
console.log(user); // { id: 2, name: 'Bob' }
```

### 6. Array.some() å’Œ Array.every()

```javascript
const numbers = [1, 2, 3, 4];
console.log(numbers.some(n => n > 3)); // true
console.log(numbers.every(n => n > 0)); // true
```

---

## ğŸ”§ è‡ªå®šä¹‰é«˜é˜¶å‡½æ•°

### 1. å‡½æ•°ç»„åˆå™¨

```javascript
function compose(...fns) {
  return function(value) {
    return fns.reduceRight((acc, fn) => fn(acc), value);
  };
}

const add1 = x => x + 1;
const multiply2 = x => x * 2;
const add1ThenMultiply2 = compose(multiply2, add1);
console.log(add1ThenMultiply2(3)); // 8 (3+1)*2
```

### 2. å‡½æ•°æŸ¯é‡ŒåŒ–

```javascript
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      return fn.apply(this, args);
    } else {
      return function(...nextArgs) {
        return curried.apply(this, args.concat(nextArgs));
      };
    }
  };
}

const add = (a, b, c) => a + b + c;
const curriedAdd = curry(add);
console.log(curriedAdd(1)(2)(3)); // 6
console.log(curriedAdd(1, 2)(3)); // 6
```

### 3. é˜²æŠ–ï¼ˆDebounceï¼‰

```javascript
function debounce(fn, delay) {
  let timeoutId;
  return function(...args) {
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => fn.apply(this, args), delay);
  };
}

const debouncedSearch = debounce((query) => {
  console.log(`Searching for: ${query}`);
}, 300);
```

### 4. èŠ‚æµï¼ˆThrottleï¼‰

```javascript
function throttle(fn, delay) {
  let lastCall = 0;
  return function(...args) {
    const now = Date.now();
    if (now - lastCall >= delay) {
      lastCall = now;
      return fn.apply(this, args);
    }
  };
}

const throttledScroll = throttle(() => {
  console.log('Scrolling...');
}, 100);
```

---

## ğŸ’¡ å®é™…åº”ç”¨

### 1. æ•°æ®å¤„ç†ç®¡é“

```javascript
const users = [
  { name: 'Alice', age: 25, active: true },
  { name: 'Bob', age: 30, active: false },
  { name: 'Charlie', age: 35, active: true }
];

const activeUsersOver25 = users
  .filter(user => user.active)
  .filter(user => user.age > 25)
  .map(user => user.name);

console.log(activeUsersOver25); // ['Charlie']
```

### 2. å‡½æ•°å¼å·¥å…·åº“

```javascript
// ä½¿ç”¨ Lodash çš„å‡½æ•°å¼æ–¹æ³•
import _ from 'lodash';

const users = [
  { name: 'Alice', age: 25 },
  { name: 'Bob', age: 30 }
];

const names = _.map(users, 'name');
const totalAge = _.sumBy(users, 'age');
```

### 3. React ä¸­çš„é«˜é˜¶ç»„ä»¶

```javascript
function withLoading(Component) {
  return function WithLoadingComponent({ isLoading, ...props }) {
    if (isLoading) {
      return <div>Loading...</div>;
    }
    return <Component {...props} />;
  };
}
```

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [ç®­å¤´å‡½æ•°](./02-ç®­å¤´å‡½æ•°.md) â€” ç®­å¤´å‡½æ•°è¯­æ³•
- [ä¸å¯å˜æ•°æ®](./03-ä¸å¯å˜æ•°æ®.md) â€” ä¸å¯å˜æ•°æ®æ¨¡å¼
- [å‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼](./04-å‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼.md) â€” å‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼

---

**å‚è€ƒ**ï¼š
- [MDN: Array methods](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)
- [Functional Programming in JavaScript](https://www.freecodecamp.org/news/functional-programming-in-javascript/)

---

#javascript #å‡½æ•°å¼ç¼–ç¨‹ #é«˜é˜¶å‡½æ•° #functional-programming
