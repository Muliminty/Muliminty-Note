# æ•°æ®ç±»å‹ï¼ˆData Typesï¼‰

> JavaScript ä¸­çš„æ•°æ®ç±»å‹ï¼šåŸå§‹ç±»å‹ä¸å¯¹è±¡ç±»å‹çš„ä½¿ç”¨å’Œåº•å±‚åŸç†

---

## ğŸ“– å…¥é—¨ï¼šåŸºç¡€ä½¿ç”¨

### 1. æ•°æ®ç±»å‹åˆ†ç±»

JavaScript ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼š

#### 1.1 åŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰

**7 ç§åŸå§‹ç±»å‹**ï¼š
1. `number` â€” æ•°å­—
2. `string` â€” å­—ç¬¦ä¸²
3. `boolean` â€” å¸ƒå°”å€¼
4. `undefined` â€” æœªå®šä¹‰
5. `null` â€” ç©ºå€¼
6. `symbol` â€” ç¬¦å·ï¼ˆES6ï¼‰
7. `bigint` â€” å¤§æ•´æ•°ï¼ˆES2020ï¼‰

**ç‰¹ç‚¹**ï¼š
- âœ… å€¼ä¸å¯å˜ï¼ˆimmutableï¼‰
- âœ… æŒ‰å€¼ä¼ é€’
- âœ… å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­

**ç¤ºä¾‹**ï¼š
```javascript
let num = 42;           // number
let str = "Hello";      // string
let bool = true;        // boolean
let undef = undefined;  // undefined
let nul = null;         // null
let sym = Symbol("id"); // symbol
let big = 9007199254740991n; // bigint
```

---

#### 1.2 å¯¹è±¡ç±»å‹ï¼ˆObject Typesï¼‰

**å¯¹è±¡ç±»å‹**ï¼š
- `Object` â€” æ™®é€šå¯¹è±¡
- `Array` â€” æ•°ç»„
- `Function` â€” å‡½æ•°
- `Date` â€” æ—¥æœŸ
- `RegExp` â€” æ­£åˆ™è¡¨è¾¾å¼
- ç­‰ç­‰...

**ç‰¹ç‚¹**ï¼š
- âœ… å€¼å¯å˜ï¼ˆmutableï¼‰
- âœ… æŒ‰å¼•ç”¨ä¼ é€’
- âœ… å­˜å‚¨åœ¨å †å†…å­˜ä¸­

**ç¤ºä¾‹**ï¼š
```javascript
let obj = { name: "Alice" };  // Object
let arr = [1, 2, 3];          // Array
let func = function() {};     // Function
```

---

### 2. ç±»å‹åˆ¤æ–­

#### 2.1 `typeof` è¿ç®—ç¬¦

**è¯­æ³•**ï¼š
```javascript
typeof value
```

**ç¤ºä¾‹**ï¼š
```javascript
typeof 42;          // "number"
typeof "hello";     // "string"
typeof true;        // "boolean"
typeof undefined;   // "undefined"
typeof null;        // "object" âš ï¸ï¼ˆå†å²é—ç•™é—®é¢˜ï¼‰
typeof {};          // "object"
typeof [];          // "object"
typeof function(){}; // "function"
```

**æ³¨æ„**ï¼š
- `typeof null` è¿”å› `"object"`ï¼ˆè¿™æ˜¯ JavaScript çš„å†å²é—ç•™é—®é¢˜ï¼‰
- `typeof` æ— æ³•åŒºåˆ†æ•°ç»„å’Œå¯¹è±¡

---

#### 2.2 `instanceof` è¿ç®—ç¬¦

**è¯­æ³•**ï¼š
```javascript
value instanceof Constructor
```

**ç¤ºä¾‹**ï¼š
```javascript
[] instanceof Array;        // true
[] instanceof Object;       // trueï¼ˆæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼‰
{} instanceof Object;       // true
new Date() instanceof Date; // true
```

---

#### 2.3 `Object.prototype.toString()`

**æ›´å‡†ç¡®çš„ç±»å‹åˆ¤æ–­**ï¼š
```javascript
Object.prototype.toString.call(42);       // "[object Number]"
Object.prototype.toString.call("hello");  // "[object String]"
Object.prototype.toString.call(null);     // "[object Null]"
Object.prototype.toString.call([]);       // "[object Array]"
Object.prototype.toString.call({});       // "[object Object]"
```

---

### 3. ç±»å‹è½¬æ¢

#### 3.1 æ˜¾å¼ç±»å‹è½¬æ¢

**è½¬æ¢ä¸ºå­—ç¬¦ä¸²**ï¼š
```javascript
String(123);        // "123"
(123).toString();   // "123"
String(null);       // "null"
String(undefined);  // "undefined"
```

**è½¬æ¢ä¸ºæ•°å­—**ï¼š
```javascript
Number("123");      // 123
Number("");         // 0
Number("abc");      // NaN
parseInt("123");    // 123
parseFloat("12.3"); // 12.3
```

**è½¬æ¢ä¸ºå¸ƒå°”å€¼**ï¼š
```javascript
Boolean(1);         // true
Boolean(0);         // false
Boolean("");        // false
Boolean("hello");   // true
Boolean(null);      // false
Boolean(undefined); // false
```

---

#### 3.2 éšå¼ç±»å‹è½¬æ¢

**å­—ç¬¦ä¸²æ‹¼æ¥**ï¼š
```javascript
"Hello" + 123;      // "Hello123"
123 + "456";        // "123456"
```

**æ•°å­¦è¿ç®—**ï¼š
```javascript
"123" - 1;          // 122ï¼ˆå­—ç¬¦ä¸²è½¬æ•°å­—ï¼‰
"123" * 2;          // 246
"123" / 1;          // 123
```

**å¸ƒå°”å€¼è½¬æ¢**ï¼š
```javascript
if (1) { }          // 1 è½¬æ¢ä¸º true
if ("") { }         // "" è½¬æ¢ä¸º false
if (0) { }          // 0 è½¬æ¢ä¸º false
```

---

## ğŸš€ æé«˜ï¼šåº•å±‚åŸç†

### 1. å†…å­˜æ¨¡å‹

#### 1.1 æ ˆå†…å­˜ï¼ˆStackï¼‰

**åŸå§‹ç±»å‹å­˜å‚¨**ï¼š
- åŸå§‹ç±»å‹çš„å€¼ç›´æ¥å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­
- è®¿é—®é€Ÿåº¦å¿«
- å†…å­˜å ç”¨å°

**ç¤ºä¾‹**ï¼š
```javascript
let a = 10;
let b = a;  // å¤åˆ¶å€¼
b = 20;
console.log(a);  // 10ï¼ˆa çš„å€¼ä¸å˜ï¼‰
```

**å†…å­˜å¸ƒå±€**ï¼š
```
æ ˆå†…å­˜
â”œâ”€â”€ a: 10
â””â”€â”€ b: 20ï¼ˆç‹¬ç«‹çš„å€¼ï¼‰
```

---

#### 1.2 å †å†…å­˜ï¼ˆHeapï¼‰

**å¯¹è±¡ç±»å‹å­˜å‚¨**ï¼š
- å¯¹è±¡å­˜å‚¨åœ¨å †å†…å­˜ä¸­
- å˜é‡å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰
- è®¿é—®é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢
- å†…å­˜å ç”¨è¾ƒå¤§

**ç¤ºä¾‹**ï¼š
```javascript
let obj1 = { name: "Alice" };
let obj2 = obj1;  // å¤åˆ¶å¼•ç”¨
obj2.name = "Bob";
console.log(obj1.name);  // "Bob"ï¼ˆobj1 å’Œ obj2 æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼‰
```

**å†…å­˜å¸ƒå±€**ï¼š
```
æ ˆå†…å­˜          å †å†…å­˜
â”œâ”€â”€ obj1 â”€â”€â”€â”€â”
â””â”€â”€ obj2 â”€â”€â”€â”€â”˜  â””â”€â”€ { name: "Bob" }
```

---

### 2. å€¼ä¼ é€’ vs å¼•ç”¨ä¼ é€’

#### 2.1 åŸå§‹ç±»å‹ï¼šå€¼ä¼ é€’

**åŸç†**ï¼š
- ä¼ é€’çš„æ˜¯å€¼çš„å‰¯æœ¬
- ä¿®æ”¹ä¸ä¼šå½±å“åŸå˜é‡

**ç¤ºä¾‹**ï¼š
```javascript
function change(x) {
  x = 100;  // ä¿®æ”¹çš„æ˜¯å‰¯æœ¬
}

let num = 10;
change(num);
console.log(num);  // 10ï¼ˆåŸå€¼ä¸å˜ï¼‰
```

---

#### 2.2 å¯¹è±¡ç±»å‹ï¼šå¼•ç”¨ä¼ é€’

**åŸç†**ï¼š
- ä¼ é€’çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰
- ä¿®æ”¹ä¼šå½±å“åŸå¯¹è±¡

**ç¤ºä¾‹**ï¼š
```javascript
function change(obj) {
  obj.name = "Bob";  // ä¿®æ”¹çš„æ˜¯åŸå¯¹è±¡
}

let person = { name: "Alice" };
change(person);
console.log(person.name);  // "Bob"ï¼ˆåŸå¯¹è±¡è¢«ä¿®æ”¹ï¼‰
```

---

### 3. ç±»å‹è½¬æ¢æœºåˆ¶

#### 3.1 æŠ½è±¡æ“ä½œï¼ˆAbstract Operationsï¼‰

JavaScript å¼•æ“ä½¿ç”¨æŠ½è±¡æ“ä½œè¿›è¡Œç±»å‹è½¬æ¢ï¼š

**ToPrimitive**ï¼š
- å°†å€¼è½¬æ¢ä¸ºåŸå§‹ç±»å‹
- ä¼˜å…ˆçº§ï¼š`valueOf()` â†’ `toString()`

**ToNumber**ï¼š
- å°†å€¼è½¬æ¢ä¸ºæ•°å­—
- è§„åˆ™å¤æ‚ï¼Œæ¶‰åŠå¤šç§æƒ…å†µ

**ToString**ï¼š
- å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²

**ToBoolean**ï¼š
- å°†å€¼è½¬æ¢ä¸ºå¸ƒå°”å€¼
- éµå¾ª"å‡å€¼"ï¼ˆfalsyï¼‰è§„åˆ™

---

#### 3.2 ç±»å‹è½¬æ¢è§„åˆ™

**åŸå§‹ç±»å‹è½¬æ¢**ï¼š
```javascript
// è½¬æ¢ä¸ºæ•°å­—
Number("123");     // 123
Number("");        // 0
Number("abc");     // NaN
Number(true);      // 1
Number(false);     // 0
Number(null);      // 0
Number(undefined); // NaN

// è½¬æ¢ä¸ºå­—ç¬¦ä¸²
String(123);       // "123"
String(true);      // "true"
String(null);      // "null"
String(undefined); // "undefined"

// è½¬æ¢ä¸ºå¸ƒå°”å€¼
Boolean(0);        // false
Boolean("");       // false
Boolean(null);     // false
Boolean(undefined);// false
Boolean(NaN);      // false
// å…¶ä»–å€¼éƒ½æ˜¯ true
```

**å¯¹è±¡ç±»å‹è½¬æ¢**ï¼š
```javascript
// å¯¹è±¡è½¬åŸå§‹ç±»å‹
let obj = {
  valueOf() { return 42; },
  toString() { return "Object"; }
};

Number(obj);       // 42ï¼ˆå…ˆè°ƒç”¨ valueOfï¼‰
String(obj);       // "Object"ï¼ˆå…ˆè°ƒç”¨ toStringï¼‰
```

---

### 4. å‡å€¼ï¼ˆFalsy Valuesï¼‰

**JavaScript ä¸­çš„å‡å€¼**ï¼š
- `false`
- `0`
- `""`ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
- `null`
- `undefined`
- `NaN`

**ç¤ºä¾‹**ï¼š
```javascript
if (!value) {
  // value æ˜¯å‡å€¼æ—¶æ‰§è¡Œ
}

// çœŸå€¼ï¼ˆTruthyï¼‰æ£€æŸ¥
if (value) {
  // value æ˜¯çœŸå€¼æ—¶æ‰§è¡Œ
}
```

---

### 5. `null` å’Œ `undefined` çš„åŒºåˆ«

**`undefined`**ï¼š
- å˜é‡å£°æ˜ä½†æœªèµ‹å€¼
- å‡½æ•°å‚æ•°æœªæä¾›
- å¯¹è±¡å±æ€§ä¸å­˜åœ¨
- å‡½æ•°æ²¡æœ‰è¿”å›å€¼

**`null`**ï¼š
- è¡¨ç¤º"ç©ºå€¼"çš„æ˜ç¡®èµ‹å€¼
- æ˜¯ä¸€ä¸ªå¯¹è±¡å¼•ç”¨
- éœ€è¦æ˜¾å¼èµ‹å€¼

**ç¤ºä¾‹**ï¼š
```javascript
let a;           // undefinedï¼ˆæœªèµ‹å€¼ï¼‰
let b = null;    // nullï¼ˆæ˜ç¡®èµ‹å€¼ï¼‰

// typeof çš„åŒºåˆ«
typeof undefined;  // "undefined"
typeof null;       // "object"ï¼ˆå†å²é—ç•™ï¼‰

// ç›¸ç­‰æ€§
undefined == null;  // trueï¼ˆç›¸ç­‰ï¼‰
undefined === null; // falseï¼ˆä¸å…¨ç­‰ï¼‰
```

---

## ğŸ“ æœ€ä½³å®è·µ

1. **ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰**ï¼šä½¿ç”¨ `===` è€Œä¸æ˜¯ `==` é¿å…ç±»å‹è½¬æ¢
2. **æ˜ç¡®ç±»å‹åˆ¤æ–­**ï¼šä½¿ç”¨ `Object.prototype.toString()` è¿›è¡Œå‡†ç¡®çš„ç±»å‹åˆ¤æ–­
3. **é¿å…éšå¼è½¬æ¢**ï¼šæ˜ç¡®è¿›è¡Œç±»å‹è½¬æ¢ï¼Œé¿å…ä¾èµ–éšå¼è½¬æ¢
4. **ç†è§£å‡å€¼**ï¼šæ¸…æ¥šå“ªäº›å€¼æ˜¯å‡å€¼ï¼Œé¿å…è¯¯åˆ¤

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [å˜é‡å£°æ˜](./å˜é‡å£°æ˜.md) â€” å˜é‡çš„å£°æ˜å’Œä½¿ç”¨
- [å†…ç½®å¯¹è±¡ä¸ API](../02-å†…ç½®å¯¹è±¡ä¸API/README.md) â€” JavaScript å†…ç½®å¯¹è±¡
- [ECMAScript ç±»å‹è§„èŒƒ](https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values)

---

#javascript #æ•°æ®ç±»å‹ #ç±»å‹è½¬æ¢ #å†…å­˜æ¨¡å‹

