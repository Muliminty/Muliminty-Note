# ç±»ï¼ˆClassï¼‰

ES6 å¼•å…¥çš„ç±»è¯­æ³•ï¼Œæä¾›æ›´æ¸…æ™°çš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ–¹å¼ã€‚

---

## ğŸ“š åŸºæœ¬è¯­æ³•

### ç±»å£°æ˜

```javascript
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  
  greet() {
    return `Hello, I'm ${this.name}`;
  }
}

const person = new Person('Alice', 30);
console.log(person.greet()); // "Hello, I'm Alice"
```

### ç±»è¡¨è¾¾å¼

```javascript
const Person = class {
  constructor(name) {
    this.name = name;
  }
};
```

---

## ğŸ¯ ç±»ç‰¹æ€§

### 1. æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰

```javascript
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
}
```

### 2. æ–¹æ³•å®šä¹‰

```javascript
class Calculator {
  add(a, b) {
    return a + b;
  }
  
  subtract(a, b) {
    return a - b;
  }
}
```

### 3. é™æ€æ–¹æ³•ï¼ˆStatic Methodsï¼‰

```javascript
class MathUtils {
  static add(a, b) {
    return a + b;
  }
  
  static PI = 3.14159;
}

// é€šè¿‡ç±»è°ƒç”¨ï¼Œä¸éœ€è¦å®ä¾‹
console.log(MathUtils.add(1, 2)); // 3
console.log(MathUtils.PI); // 3.14159
```

### 4. ç§æœ‰å­—æ®µï¼ˆPrivate Fieldsï¼‰

```javascript
class BankAccount {
  #balance = 0; // ç§æœ‰å­—æ®µ
  
  deposit(amount) {
    this.#balance += amount;
  }
  
  getBalance() {
    return this.#balance;
  }
}

const account = new BankAccount();
account.deposit(100);
console.log(account.getBalance()); // 100
// console.log(account.#balance); // âŒ é”™è¯¯ï¼šç§æœ‰å­—æ®µæ— æ³•è®¿é—®
```

### 5. ç§æœ‰æ–¹æ³•ï¼ˆPrivate Methodsï¼‰

```javascript
class BankAccount {
  #balance = 0;
  
  #validateAmount(amount) { // ç§æœ‰æ–¹æ³•
    return amount > 0;
  }
  
  deposit(amount) {
    if (this.#validateAmount(amount)) {
      this.#balance += amount;
    }
  }
}
```

---

## ğŸ”„ ç»§æ‰¿ï¼ˆInheritanceï¼‰

### extends å…³é”®å­—

```javascript
class Animal {
  constructor(name) {
    this.name = name;
  }
  
  speak() {
    return `${this.name} makes a sound`;
  }
}

class Dog extends Animal {
  constructor(name, breed) {
    super(name); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
    this.breed = breed;
  }
  
  speak() {
    return `${this.name} barks`;
  }
}

const dog = new Dog('Buddy', 'Golden Retriever');
console.log(dog.speak()); // "Buddy barks"
```

### super å…³é”®å­—

```javascript
class Animal {
  constructor(name) {
    this.name = name;
  }
  
  move() {
    return `${this.name} moves`;
  }
}

class Bird extends Animal {
  move() {
    return super.move() + ' by flying'; // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
  }
}
```

---

## ğŸ¨ é«˜çº§ç‰¹æ€§

### 1. Getter å’Œ Setter

```javascript
class Person {
  constructor(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
  }
  
  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  }
  
  set fullName(name) {
    [this.firstName, this.lastName] = name.split(' ');
  }
}

const person = new Person('John', 'Doe');
console.log(person.fullName); // "John Doe"
person.fullName = 'Jane Smith';
console.log(person.firstName); // "Jane"
```

### 2. è®¡ç®—å±æ€§å

```javascript
const methodName = 'calculate';

class Calculator {
  [methodName](a, b) {
    return a + b;
  }
}

const calc = new Calculator();
console.log(calc.calculate(1, 2)); // 3
```

### 3. ç±»å­—æ®µï¼ˆClass Fieldsï¼‰

```javascript
class Counter {
  count = 0; // ç±»å­—æ®µï¼ˆå®ä¾‹å±æ€§ï¼‰
  static total = 0; // é™æ€ç±»å­—æ®µ
  
  increment() {
    this.count++;
    Counter.total++;
  }
}
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç±»ä¸ä¼šæå‡

```javascript
// âŒ é”™è¯¯ï¼šç±»ä¸ä¼šæå‡
const person = new Person(); // ReferenceError
class Person {}
```

### 2. ç±»ä½“åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œ

```javascript
class MyClass {
  // è‡ªåŠ¨å¯ç”¨ä¸¥æ ¼æ¨¡å¼
  method() {
    x = 10; // âŒ é”™è¯¯ï¼šx is not defined
  }
}
```

### 3. ç±»æ–¹æ³•ä¸å¯æšä¸¾

```javascript
class Person {
  greet() {}
}

const person = new Person();
console.log(Object.keys(person)); // []ï¼ˆæ–¹æ³•ä¸å¯æšä¸¾ï¼‰
```

### 4. å¿…é¡»ä½¿ç”¨ new è°ƒç”¨

```javascript
class Person {}

// âŒ é”™è¯¯ï¼šå¿…é¡»ä½¿ç”¨ new
const person = Person(); // TypeError

// âœ… æ­£ç¡®
const person = new Person();
```

---

## ğŸ”„ ä¸æ„é€ å‡½æ•°å¯¹æ¯”

### æ„é€ å‡½æ•°æ–¹å¼

```javascript
function Person(name) {
  this.name = name;
}

Person.prototype.greet = function() {
  return `Hello, I'm ${this.name}`;
};
```

### ç±»æ–¹å¼

```javascript
class Person {
  constructor(name) {
    this.name = name;
  }
  
  greet() {
    return `Hello, I'm ${this.name}`;
  }
}
```

**ç±»è¯­æ³•æœ¬è´¨ä¸Šæ˜¯æ„é€ å‡½æ•°çš„è¯­æ³•ç³–**ï¼Œä½†æä¾›äº†ï¼š
- æ›´æ¸…æ™°çš„è¯­æ³•
- æ›´å¥½çš„é”™è¯¯æ£€æŸ¥
- æ›´ç›´è§‚çš„ç»§æ‰¿è¯­æ³•

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ä½¿ç”¨ç±»å­—æ®µåˆå§‹åŒ–

```javascript
class User {
  name = '';
  email = '';
  isActive = false;
  
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
}
```

### 2. ä½¿ç”¨ç§æœ‰å­—æ®µä¿æŠ¤æ•°æ®

```javascript
class BankAccount {
  #balance = 0;
  
  deposit(amount) {
    if (amount > 0) {
      this.#balance += amount;
    }
  }
}
```

### 3. ä½¿ç”¨é™æ€æ–¹æ³•å¤„ç†å·¥å…·å‡½æ•°

```javascript
class MathUtils {
  static add(a, b) {
    return a + b;
  }
  
  static multiply(a, b) {
    return a * b;
  }
}
```

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [å¯¹è±¡](./01-å¯¹è±¡.md) â€” å¯¹è±¡åŸºç¡€
- [åŸå‹ä¸ç»§æ‰¿](./03-åŸå‹ä¸ç»§æ‰¿.md) â€” åŸå‹é“¾æœºåˆ¶
- [this ç»‘å®š](./04-thisç»‘å®š.md) â€” this ç»‘å®šè§„åˆ™

---

**å‚è€ƒ**ï¼š
- [MDN: Classes](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes)
- [ECMAScript Classes](https://tc39.es/ecma262/#sec-class-definitions)

---

#javascript #ç±» #class #é¢å‘å¯¹è±¡ #oop
