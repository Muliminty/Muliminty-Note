
# ğŸ“¦ package.json æŠ€å·§

#npm #packagejson  #ä¾èµ–ç®¡ç† #devDependencies #ç‰ˆæœ¬æ§åˆ¶ #ä»£ç è´¨é‡ #å¼€æºé¡¹ç›® #Git #æ„å»ºå·¥å…· #è„šæœ¬é…ç½®


`package.json` æ˜¯æ¯ä¸ª Node.js é¡¹ç›®ä¸­ä¸å¯æˆ–ç¼ºçš„æ–‡ä»¶ï¼Œå®ƒç”¨äºç®¡ç†é¡¹ç›®çš„ä¾èµ–ã€è„šæœ¬ã€ç‰ˆæœ¬æ§åˆ¶ç­‰ä¿¡æ¯ã€‚æŒæ¡ `package.json` çš„ä¸€äº›æŠ€å·§ï¼Œæœ‰åŠ©äºæé«˜å¼€å‘æ•ˆç‡ï¼Œç®€åŒ–é¡¹ç›®ç»´æŠ¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æŠ€å·§å’Œæœ€ä½³å®è·µã€‚

---

## ğŸ“ **1. Scriptsï¼šå®šä¹‰å¸¸ç”¨çš„å‘½ä»¤**

`scripts` éƒ¨åˆ†æ˜¯ `package.json` ä¸­éå¸¸é‡è¦çš„å­—æ®µï¼Œå…è®¸ä½ ä¸ºå¸¸è§çš„å¼€å‘ä»»åŠ¡å®šä¹‰è‡ªå®šä¹‰å‘½ä»¤ã€‚

### ç¤ºä¾‹ï¼š
```json
"scripts": {
  "start": "react-scripts start", // å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  "build": "react-scripts build", // æ„å»ºç”Ÿäº§ç¯å¢ƒä»£ç 
  "test": "react-scripts test",   // è¿è¡Œæµ‹è¯•
  "lint": "eslint .",             // æ‰§è¡Œä»£ç æ£€æŸ¥
  "prettier": "prettier --write .", // æ ¼å¼åŒ–ä»£ç 
  "dev": "webpack --mode development", // è‡ªå®šä¹‰å¼€å‘ç¯å¢ƒå¯åŠ¨å‘½ä»¤
  "deploy": "npm run build && npm run deploy" // è‡ªå®šä¹‰éƒ¨ç½²æµç¨‹
}
```

### æŠ€å·§ï¼š
- ä½¿ç”¨ `pre<name>` å’Œ `post<name>` è„šæœ¬ï¼šè¿™äº›è„šæœ¬ä¼šåœ¨æ‰§è¡ŒæŸä¸ªè„šæœ¬å‰åè‡ªåŠ¨è§¦å‘ï¼Œä¾‹å¦‚ï¼š`"prestart"` ä¼šåœ¨ `start` è„šæœ¬æ‰§è¡Œä¹‹å‰è§¦å‘ã€‚

---

## ğŸ”§ **2. ç‰ˆæœ¬å·å’Œä¾èµ–ç®¡ç†**

### ä½¿ç”¨ `^` å’Œ `~` ç®¡ç†ä¾èµ–ç‰ˆæœ¬

- `^`ï¼ˆCaretï¼‰ï¼šå…è®¸æ›´æ–°åˆ°å°ç‰ˆæœ¬å’Œè¡¥ä¸ç‰ˆæœ¬ï¼ˆä¸åŒ…æ‹¬å¤§ç‰ˆæœ¬ï¼‰ã€‚
- `~`ï¼ˆTildeï¼‰ï¼šåªå…è®¸æ›´æ–°åˆ°è¡¥ä¸ç‰ˆæœ¬ã€‚

### ç¤ºä¾‹ï¼š
```json
"dependencies": {
  "react": "^18.0.0",  // å…è®¸å®‰è£…æœ€æ–°çš„å°ç‰ˆæœ¬
  "lodash": "~4.17.21"  // åªå…è®¸å®‰è£…è¡¥ä¸ç‰ˆæœ¬
}
```

### æŠ€å·§ï¼š
- ä½¿ç”¨ `npm ci` æ¥ç¡®ä¿ä¾èµ–æ˜¯å‡†ç¡®çš„ï¼Œä¸ä¼šæ ¹æ® `package.json` çš„ `^` å’Œ `~` æ›´æ–°ç‰ˆæœ¬ï¼Œè€Œæ˜¯æ ¹æ® `package-lock.json` å®‰è£…å…·ä½“çš„ç‰ˆæœ¬ã€‚

---

## ğŸ“‚ **3. åŒºåˆ† `devDependencies` å’Œ `dependencies`**

- `dependencies`ï¼šç”Ÿäº§ç¯å¢ƒä¾èµ–ã€‚
- `devDependencies`ï¼šå¼€å‘ç¯å¢ƒä¾èµ–ï¼Œå¦‚æ„å»ºå·¥å…·ã€ä»£ç æ£€æŸ¥å·¥å…·ç­‰ã€‚

### ç¤ºä¾‹ï¼š
```json
"dependencies": {
  "react": "^18.0.0",
  "axios": "^1.0.0"
},
"devDependencies": {
  "eslint": "^8.0.0",
  "webpack": "^5.0.0",
  "babel": "^7.0.0"
}
```

### æŠ€å·§ï¼š
- ä½¿ç”¨ `npm install --production` åªå®‰è£…ç”Ÿäº§ä¾èµ–ï¼Œå‡å°‘å®‰è£…çš„åŒ…ä½“ç§¯ã€‚

---

## ğŸ”‘ **4. ä½¿ç”¨ `engines` å­—æ®µç®¡ç† Node.js å’Œ npm ç‰ˆæœ¬**

é€šè¿‡ `engines` å­—æ®µæŒ‡å®šé¡¹ç›®æ”¯æŒçš„ Node.js å’Œ npm ç‰ˆæœ¬èŒƒå›´ã€‚

### ç¤ºä¾‹ï¼š
```json
"engines": {
  "node": ">=14.0.0 <16.0.0",
  "npm": ">=6.0.0"
}
```

### æŠ€å·§ï¼š
- ç¡®ä¿é¡¹ç›®åœ¨å…¼å®¹çš„ Node.js å’Œ npm ç¯å¢ƒä¸­è¿è¡Œï¼Œé¿å…ç‰ˆæœ¬å†²çªæˆ–ä¸å¯é¢„æµ‹çš„é”™è¯¯ã€‚

---

## ğŸ›  **5. `peerDependencies`ï¼šç®¡ç†æ’ä»¶å’Œåº“çš„å…¼å®¹æ€§**

`peerDependencies` ç”¨äºå£°æ˜åº“æˆ–æ’ä»¶ä¸ä¸»é¡¹ç›®ä¾èµ–çš„å…¼å®¹æ€§è¦æ±‚ã€‚å½“ä½ çš„åº“ä¾èµ–äºå¦ä¸€ä¸ªåŒ…ï¼Œä½†ä¸æƒ³å°†å…¶ç›´æ¥å®‰è£…åœ¨é¡¹ç›®ä¸­æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `peerDependencies`ã€‚

### ç¤ºä¾‹ï¼š
```json
"peerDependencies": {
  "react": "^18.0.0"
}
```

### æŠ€å·§ï¼š
- ç”¨äºç¡®ä¿æŸä¸ªåº“ä¸é¡¹ç›®ä¸­å®‰è£…çš„ React æˆ–å…¶ä»–æ¡†æ¶ç‰ˆæœ¬å…¼å®¹ã€‚

---

## ğŸŒ **6. `browserslist`ï¼šæŒ‡å®šç›®æ ‡æµè§ˆå™¨**

`browserslist` ç”¨äºå®šä¹‰é¡¹ç›®æ”¯æŒçš„æµè§ˆå™¨ï¼Œæ„å»ºå·¥å…·ä¼šæ ¹æ®æ­¤é…ç½®ç”Ÿæˆå…¼å®¹çš„ä»£ç ã€‚

### ç¤ºä¾‹ï¼š
```json
"browserslist": [
  "> 0.2%",
  "not dead",
  "not op_mini all"
]
```

### æŠ€å·§ï¼š
- é…ç½® `browserslist` åï¼ŒWebpackã€Babel å’Œ Autoprefixer ç­‰å·¥å…·ä¼šè‡ªåŠ¨ç”Ÿæˆé€‚é…ç›®æ ‡æµè§ˆå™¨çš„ä»£ç ï¼Œæé«˜è·¨æµè§ˆå™¨å…¼å®¹æ€§ã€‚

---

## ğŸ†“ **7. `license`ï¼šä¸ºé¡¹ç›®æ·»åŠ è®¸å¯è¯**

é€šè¿‡ `license` å­—æ®µå£°æ˜é¡¹ç›®çš„è®¸å¯è¯ç±»å‹ï¼Œç¡®ä¿ä»£ç çš„å¼€æ”¾æ€§å’Œä½¿ç”¨èŒƒå›´ã€‚

### ç¤ºä¾‹ï¼š
```json
"license": "MIT"
```

### æŠ€å·§ï¼š
- å¼€æºé¡¹ç›®é€šå¸¸éœ€è¦æ˜ç¡®çš„è®¸å¯è¯ï¼Œä»¥ä¾¿ä»–äººèƒ½å¤Ÿåœ¨é¡¹ç›®ä¸Šè¿›è¡Œä¿®æ”¹å’Œåˆ†å‘ã€‚

---

## ğŸ›¡ **8. `husky` å’Œ `lint-staged`ï¼šä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–**

é€šè¿‡ `husky` å’Œ `lint-staged`ï¼Œå¯ä»¥åœ¨ Git æäº¤æ—¶è¿è¡Œä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€‚

### ç¤ºä¾‹ï¼š
```json
"husky": {
  "hooks": {
    "pre-commit": "lint-staged"
  }
},
"lint-staged": {
  "*.js": ["eslint --fix", "prettier --write"]
}
```

### æŠ€å·§ï¼š
- åœ¨ Git æäº¤æ—¶è‡ªåŠ¨ä¿®å¤ä»£ç ä¸­çš„é—®é¢˜ï¼Œç¡®ä¿ä»£ç é£æ ¼ä¸€è‡´ã€‚
- ä½¿ç”¨ `lint-staged` åªå¤„ç†æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œæé«˜æ•ˆç‡ã€‚

---

## ğŸ”„ **9. `optionalDependencies`ï¼šå¯é€‰ä¾èµ–**

`optionalDependencies` å­—æ®µå…è®¸ä½ å®šä¹‰ä¸€äº›å¯é€‰ä¾èµ–ï¼Œå³ä½¿è¿™äº›ä¾èµ–æ— æ³•å®‰è£…ï¼Œnpm ä¹Ÿä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚

### ç¤ºä¾‹ï¼š
```json
"optionalDependencies": {
  "fsevents": "^2.0.0"
}
```

### æŠ€å·§ï¼š
- ç”¨äºå®‰è£…å¹³å°ç‰¹å®šçš„ä¾èµ–ï¼ˆä¾‹å¦‚ `fsevents`ï¼‰æˆ–ç”¨äºæå‡æ€§èƒ½çš„ä¾èµ–ã€‚

---

## ğŸŒ **10. ä½¿ç”¨ Git åœ°å€å®‰è£…ä¾èµ–**

ç›´æ¥é€šè¿‡ Git åœ°å€å¼•ç”¨åŒ…ï¼Œé¿å…å‘å¸ƒåˆ° NPM æˆ–ä½¿ç”¨ä¸´æ—¶ä»£ç ç‰ˆæœ¬ã€‚

### ç¤ºä¾‹ï¼š
```json
"dependencies": {
  "my-package": "git+https://github.com/user/my-package.git"
}
```

### æŠ€å·§ï¼š
- å¯ä»¥ç›´æ¥é€šè¿‡ Git åœ°å€å¼•ç”¨ä½ è‡ªå®šä¹‰çš„åº“ï¼Œé¿å…å‘å¸ƒåˆ° NPM æˆ–å½“æŸä¸ªåº“æš‚æ—¶æœªå‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ç›´æ¥å¼•ç”¨æºç ã€‚

---

## ğŸ· **11. ä½¿ç”¨ Git æ ‡ç­¾è¿›è¡Œä¾èµ–ç‰ˆæœ¬æ§åˆ¶**

é€šè¿‡æŒ‡å®š Git æ ‡ç­¾æ¥å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ä¾èµ–ï¼Œé¿å…å¼•å…¥ä¸ç¨³å®šçš„å¼€å‘ç‰ˆæœ¬ã€‚

### ç¤ºä¾‹ï¼š
```json
"dependencies": {
  "my-package": "git+https://github.com/user/my-package.git#v1.0.0"
}
```

### æŠ€å·§ï¼š
- ä½¿ç”¨ Git æ ‡ç­¾ç¡®ä¿é¡¹ç›®ä¾èµ–çš„æ˜¯æŸä¸ªç‰¹å®šç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯å¼€å‘ä¸­çš„æœ€æ–°æäº¤ã€‚

---

## ğŸ’¡ **æ€»ç»“**

é€šè¿‡åˆç†ä½¿ç”¨ `package.json` ä¸­çš„æŠ€å·§ï¼Œå¯ä»¥æ˜¾è‘—æé«˜é¡¹ç›®çš„å¼€å‘æ•ˆç‡å’Œå¯ç»´æŠ¤æ€§ã€‚æ­£ç¡®ç®¡ç†ä¾èµ–ã€é…ç½®è„šæœ¬ã€æ•´åˆå¼€å‘å·¥å…·å’Œè§„èŒƒç‰ˆæœ¬æ§åˆ¶ï¼Œæœ‰åŠ©äºæ‰“é€ é«˜æ•ˆã€ç¨³å®šçš„é¡¹ç›®ã€‚åœ¨å›¢é˜Ÿåä½œå’Œå¼€æºé¡¹ç›®ä¸­ï¼Œ`package.json` çš„ç²¾ç»†é…ç½®ä¹Ÿèƒ½å¤Ÿå‡å°‘ä¾èµ–å†²çªå’Œç‰ˆæœ¬ç®¡ç†é—®é¢˜ã€‚

