声明文件的使用场景通常是，你在 ts 代码中使用一个 npm 包，但这个包完全没有声明文件，这时候就只能自己来书写一份声明文件，以免 TS 因为不知道这个包的结构，成员属性以及它们的类型而报错。

先来看下 TS 是怎么查找一个 npm 包的声明文件的：

1. 先查找 npm 包的 `package.json` 中的根属性 `types` 或 `typings` 字段指定的声明文件，有则使用，否则继续查找。
2. 查找 npm 包的根目录是否有一个 `index.d.ts` 声明文件，有则使用，否则继续查找。
3. 查看 npm 包的 `package.json` 中的根属性 `main` 字段（入口文件），查找和入口文件同级目录下是否有同名的 `.d.ts` 文件，有则使用，否则认为此 npm 包完全没有声明文件。

声明文件只在开发阶段有用，用于声明一些变量或者类型，以免 TS 在做检查的时候抛出变量或类型不存在的错误，从而导致编译失败。同时，还能获得对应的代码补全、接口提示等。

默认情况下，TS 会解析项目内所有 `.d.ts` 文件，当声明文件中不出现顶层 `import` 或 `export` 时， 文件内声明的都是全局变量或全局类型。也就是说，这些全局变量或全局类型都是可以在全局任何地方直接使用的，而不需要导入后再使用。

但是只要声明文件中出现顶层的 `import` 或 `export`，那么这个声明文件就会被当做模块，模块中所有的声明都是局部变量或局部类型，必须 `export` 导出后，才能在其他文件中 `import` 导入使用。
